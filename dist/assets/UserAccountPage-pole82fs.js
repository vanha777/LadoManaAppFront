import{au as P,a8 as R,a9 as q,aa as u,b$ as z,ab as S,F as T,ac as e,ad as k,cZ as $,an as d,by as E,cd as I,aN as A,ag as x,bY as G,ae as i,ak as C,al as L,ah as H,aj as t,aM as p,ay as V,aD as w,b2 as W,ba as M,aO as Y,ai as Z,b_ as K,aR as J,ao as Q,aA as X,c_ as ee,c$ as se,d0 as ae,cS as ne,as as ie,aB as te,ax as N}from"./index-kAVNsXXW.js";import{C as oe}from"./CustomBreadcrumbs-07KkEdSP.js";import{c as re}from"./countries-ACrf0PN6.js";import{G as f}from"./Grid-UjSMx0L8.js";import{C as j}from"./Card-yNtnckip.js";import{P as le}from"./PaymentSummary-rEU011re.js";import{T as ce,a as de}from"./Tabs-vRgd6uc9.js";import"./DialogTitle-vCHwm-ka.js";import"./dialogTitleClasses-wpKycvDL.js";import"./DialogContent-DKzr_HVR.js";import"./DialogActions-vKtJfWwg.js";import"./KeyboardArrowRight-6uRlvlB4.js";function me(){const{enqueueSnackbar:a}=P(),{user:s}=R(),o=q().shape({displayName:u().required("Name is required"),email:u().required("Email is required").email("Email must be a valid email address"),photoURL:z().required("Avatar is required"),phoneNumber:u().required("Phone number is required"),country:u().required("Country is required"),address:u().required("Address is required"),state:u().required("State is required"),city:u().required("City is required"),zipCode:u().required("Zip code is required"),about:u().required("About is required")}),l={displayName:(s==null?void 0:s.first_name)||"",email:(s==null?void 0:s.email)||"",photoURL:(s==null?void 0:s.avatar_url)||null,phoneNumber:(s==null?void 0:s.phone)||"",country:(s==null?void 0:s.country)||"Australia",address:(s==null?void 0:s.address)||"",state:(s==null?void 0:s.state)||"",city:(s==null?void 0:s.city)||"",zipCode:(s==null?void 0:s.post_code)||"",about:(s==null?void 0:s.about)||"",isPublic:(s==null?void 0:s.isPublic)||!1},n=S({resolver:L(o),defaultValues:l}),{setValue:c,handleSubmit:r,formState:{isSubmitting:m}}=n,h=async v=>{try{await new Promise(g=>setTimeout(g,500)),a("Update success!"),console.log("DATA",v)}catch(g){console.error(g)}},b=T.useCallback(v=>{const g=v[0],D=Object.assign(g,{preview:URL.createObjectURL(g)});g&&c("photoURL",D,{shouldValidate:!0})},[c]);return e.jsx(k,{methods:n,onSubmit:r(h),children:e.jsxs(f,{container:!0,spacing:3,children:[e.jsx(f,{item:!0,xs:12,md:4,children:e.jsxs(j,{sx:{py:10,px:3,textAlign:"center"},children:[e.jsx($,{name:"photoURL",maxSize:3145728,onDrop:b,helperText:e.jsxs(d,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",E(3145728)]})}),e.jsx(I,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}})]})}),e.jsx(f,{item:!0,xs:12,md:8,children:e.jsxs(j,{sx:{p:3},children:[e.jsxs(A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(x,{name:"displayName",label:"Name"}),e.jsx(x,{name:"email",label:"Email Address"}),e.jsx(x,{name:"phoneNumber",label:"Phone Number"}),e.jsx(x,{name:"address",label:"Address"}),e.jsxs(G,{native:!0,name:"country",label:"Country",placeholder:"Country",children:[e.jsx("option",{value:""}),re.map(v=>e.jsx("option",{value:v.label,children:v.label},v.code))]}),e.jsx(x,{name:"state",label:"State/Region"}),e.jsx(x,{name:"city",label:"City"}),e.jsx(x,{name:"zipCode",label:"Zip/Code"})]}),e.jsxs(i,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[e.jsx(x,{name:"about",multiline:!0,rows:4,label:"About"}),e.jsx(C,{type:"submit",variant:"contained",loading:m,children:"Save Changes"})]})]})})]})})}const ue=[{value:"facebookLink",icon:e.jsx(t,{icon:"eva:facebook-fill",width:24})},{value:"instagramLink",icon:e.jsx(t,{icon:"ant-design:instagram-filled",width:24})},{value:"linkedinLink",icon:e.jsx(t,{icon:"eva:linkedin-fill",width:24})},{value:"twitterLink",icon:e.jsx(t,{icon:"eva:twitter-fill",width:24})}];B.propTypes={socialLinks:p.shape({facebookLink:p.string,instagramLink:p.string,linkedinLink:p.string,twitterLink:p.string})};function B({socialLinks:a}){const{enqueueSnackbar:s}=P(),o={facebookLink:a.facebookLink,instagramLink:a.instagramLink,linkedinLink:a.linkedinLink,twitterLink:a.twitterLink},l=S({defaultValues:o}),{handleSubmit:n,formState:{isSubmitting:c}}=l,r=async m=>{try{await new Promise(h=>setTimeout(h,500)),s("Update success!"),console.log("DATA",m)}catch(h){console.error(h)}};return e.jsx(k,{methods:l,onSubmit:n(r),children:e.jsx(j,{sx:{p:3},children:e.jsxs(i,{spacing:3,alignItems:"flex-end",children:[ue.map(m=>e.jsx(x,{name:m.value,InputProps:{startAdornment:e.jsx(H,{position:"start",children:m.icon})}},m.value)),e.jsx(C,{type:"submit",variant:"contained",loading:c,children:"Save Changes"})]})})})}const xe=[{value:"activityComments",label:"Email me when someone comments onmy article"},{value:"activityAnswers",label:"Email me when someone answers on my form"},{value:"activityFollows",label:"Email me hen someone follows me"}],pe=[{value:"applicationNews",label:"News and announcements"},{value:"applicationProduct",label:"Weekly product updates"},{value:"applicationBlog",label:"Weekly blog digest"}],y={activityComments:!0,activityAnswers:!0,activityFollows:!1,applicationNews:!0,applicationProduct:!1,applicationBlog:!1};function he(){const{enqueueSnackbar:a}=P(),s={activityComments:y.activityComments,activityAnswers:y.activityAnswers,activityFollows:y.activityFollows,applicationNews:y.applicationNews,applicationProduct:y.applicationProduct,applicationBlog:y.applicationBlog},o=S({defaultValues:s}),{handleSubmit:l,formState:{isSubmitting:n}}=o,c=async r=>{try{await new Promise(m=>setTimeout(m,500)),a("Update success!"),console.log("DATA",r)}catch(m){console.error(m)}};return e.jsx(k,{methods:o,onSubmit:l(c),children:e.jsxs(j,{sx:{p:3},children:[e.jsx(d,{variant:"overline",component:"div",sx:{color:"text.secondary"},children:"Activity"}),e.jsx(i,{alignItems:"flex-start",spacing:1,sx:{mt:2},children:xe.map(r=>e.jsx(I,{name:r.value,label:r.label,sx:{m:0}},r.value))}),e.jsx(d,{variant:"overline",component:"div",sx:{color:"text.secondary",mt:5},children:"Application"}),e.jsx(i,{alignItems:"flex-start",spacing:1,sx:{mt:2,mb:5},children:pe.map(r=>e.jsx(I,{name:r.value,label:r.label,sx:{m:0}},r.value))}),e.jsx(i,{children:e.jsx(C,{type:"submit",variant:"contained",loading:n,sx:{ml:"auto"},children:"Save Changes"})})]})})}function je(){const{enqueueSnackbar:a}=P(),s=q().shape({oldPassword:u().required("Old Password is required"),newPassword:u().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(h,{parent:b})=>h!==b.oldPassword),confirmNewPassword:u().oneOf([V("newPassword")],"Passwords must match")}),o={oldPassword:"",newPassword:"",confirmNewPassword:""},l=S({resolver:L(s),defaultValues:o}),{reset:n,handleSubmit:c,formState:{isSubmitting:r}}=l,m=async h=>{try{await new Promise(b=>setTimeout(b,500)),n(),a("Update success!"),console.log("DATA",h)}catch(b){console.error(b)}};return e.jsx(k,{methods:l,onSubmit:c(m),children:e.jsx(j,{children:e.jsxs(i,{spacing:3,alignItems:"flex-end",sx:{p:3},children:[e.jsx(x,{name:"oldPassword",type:"password",label:"Old Password"}),e.jsx(x,{name:"newPassword",type:"password",label:"New Password",helperText:e.jsxs(i,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(t,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(x,{name:"confirmNewPassword",type:"password",label:"Confirm New Password"}),e.jsx(C,{type:"submit",variant:"contained",loading:r,children:"Save Changes"})]})})})}_.propTypes={addressBook:p.array};function _({addressBook:a}){return e.jsxs(j,{sx:{p:3},children:[e.jsxs(i,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[e.jsx(d,{variant:"overline",sx:{color:"text.secondary"},children:"Billing Info"}),e.jsx(w,{size:"small",startIcon:e.jsx(t,{icon:"eva:plus-fill"}),children:"New Billing Address"})]}),e.jsx(i,{spacing:3,divider:e.jsx(W,{sx:{borderStyle:"dashed"}}),children:a.map(s=>e.jsxs(i,{spacing:1,children:[e.jsx(d,{variant:"subtitle1",children:s.name}),e.jsxs(d,{variant:"body2",children:[e.jsx(A,{component:"span",sx:{color:"text.secondary",mr:.5},children:"Address:"}),`${s.street}, ${s.city}, ${s.state}, ${s.country} ${s.zipCode}`]}),e.jsxs(d,{variant:"body2",children:[e.jsx(A,{component:"span",sx:{color:"text.secondary",mr:.5},children:"Phone:"}),s.phone]}),e.jsxs(i,{direction:"row",spacing:1,children:[e.jsx(w,{color:"error",size:"small",startIcon:e.jsx(t,{icon:"eva:trash-2-outline"}),children:"Delete"}),e.jsx(w,{size:"small",startIcon:e.jsx(t,{icon:"eva:edit-fill"}),children:"Edit"})]})]},s.id))})]})}U.propTypes={cards:p.array};function U({cards:a}){const[s,o]=T.useState(!1),l=()=>{o(!0)},n=()=>{o(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(j,{sx:{p:3},children:[e.jsxs(i,{direction:"row",alignItems:"center",sx:{mb:3},children:[e.jsx(d,{variant:"overline",sx:{flexGrow:1,color:"text.secondary"},children:"Payment Method"}),e.jsx(w,{size:"small",startIcon:e.jsx(t,{icon:"eva:plus-fill"}),onClick:l,children:"New card"})]}),e.jsx(i,{spacing:2,direction:{xs:"column",md:"row"},children:a.map(c=>e.jsxs(M,{variant:"outlined",sx:{p:3,width:1,position:"relative"},children:[e.jsx(Y,{alt:"icon",src:c.cardType==="master_card"?"/assets/icons/payments/ic_mastercard.svg":"/assets/icons/payments/ic_visa.svg",sx:{mb:1,maxWidth:36}}),e.jsx(d,{variant:"subtitle2",children:c.cardNumber}),e.jsx(Z,{sx:{top:8,right:8,position:"absolute"},children:e.jsx(t,{icon:"eva:more-vertical-fill"})})]},c.id))})]}),e.jsx(le,{open:s,onClose:n})]})}F.propTypes={invoices:p.array};function F({invoices:a}){return e.jsxs(i,{spacing:3,alignItems:"flex-end",children:[e.jsx(d,{variant:"overline",sx:{width:1,color:"text.secondary"},children:"Invoice History"}),e.jsx(i,{spacing:2,sx:{width:1},children:a.map(s=>e.jsxs(i,{direction:"row",justifyContent:"space-between",sx:{width:1},children:[e.jsx(d,{variant:"body2",sx:{minWidth:120},children:K(s.createdAt)}),e.jsx(d,{variant:"body2",children:J(s.price)}),e.jsx(Q,{children:"PDF"})]},s.id))}),e.jsx(w,{size:"small",color:"inherit",endIcon:e.jsx(t,{icon:"eva:arrow-ios-forward-fill"}),children:"All invoices"})]})}O.propTypes={cards:p.array,invoices:p.array,addressBook:p.array};function O({cards:a,addressBook:s,invoices:o}){return e.jsxs(f,{container:!0,spacing:5,children:[e.jsx(f,{item:!0,xs:12,md:8,children:e.jsxs(i,{spacing:3,children:[e.jsxs(j,{sx:{p:3},children:[e.jsx(d,{variant:"overline",sx:{mb:3,display:"block",color:"text.secondary"},children:"Your Plan"}),e.jsx(d,{variant:"h4",children:"Premium"}),e.jsxs(A,{sx:{mt:{xs:2,sm:0},position:{sm:"absolute"},top:{sm:24},right:{sm:24}},children:[e.jsx(w,{size:"small",color:"inherit",variant:"outlined",sx:{mr:1},children:"Cancel plan"}),e.jsx(w,{size:"small",variant:"outlined",children:"Upgrade plan"})]})]}),e.jsx(U,{cards:a}),e.jsx(_,{addressBook:s})]})}),e.jsx(f,{item:!0,xs:12,md:4,children:e.jsx(F,{invoices:o})})]})}function Te(){const{themeStretch:a}=X(),[s,o]=T.useState("general"),l=[{value:"general",label:"General",icon:e.jsx(t,{icon:"ic:round-account-box"}),component:e.jsx(me,{})},{value:"billing",label:"Billing",icon:e.jsx(t,{icon:"ic:round-receipt"}),component:e.jsx(O,{cards:ee,addressBook:se,invoices:ae})},{value:"notifications",label:"Notifications",icon:e.jsx(t,{icon:"eva:bell-fill"}),component:e.jsx(he,{})},{value:"social_links",label:"Social links",icon:e.jsx(t,{icon:"eva:share-fill"}),component:e.jsx(B,{socialLinks:ne.socialLinks})},{value:"change_password",label:"Change password",icon:e.jsx(t,{icon:"ic:round-vpn-key"}),component:e.jsx(je,{})}];return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" User: Account Settings | Minimal UI"})}),e.jsxs(te,{maxWidth:a?!1:"lg",children:[e.jsx(oe,{heading:"Account",links:[{name:"Dashboard",href:N.root},{name:"User",href:N.user.root},{name:"Account Settings"}]}),e.jsx(ce,{value:s,onChange:(n,c)=>o(c),children:l.map(n=>e.jsx(de,{label:n.label,icon:n.icon,value:n.value},n.value))}),l.map(n=>n.value===s&&e.jsx(A,{sx:{mt:5},children:n.component},n.value))]})]})}export{Te as default};
