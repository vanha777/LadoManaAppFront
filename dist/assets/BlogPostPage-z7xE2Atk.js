import{ac as s,aN as p,aA as S,c0 as B,F as a,bV as g,as as D,aB as v,ax as j,ae as n,an as i,b2 as c}from"./index-kAVNsXXW.js";import{M as w}from"./Markdown-EScK2ww8.js";import{C as y}from"./CustomBreadcrumbs-07KkEdSP.js";import{S as o}from"./Skeleton-ET3ifG4q.js";import"./SkeletonConversationItem-L95VVb_N.js";import{b as C,c as k,d as R}from"./BlogPostCommentList-shbdXebK.js";import"./IncrementerButton-SLvR_Q0x.js";import"./TextMaxLine-pXA0ho8x.js";import"./Card-yNtnckip.js";import"./CardContent-Yl8ry9fC.js";import"./Zoom-YdLcfH2Q.js";import"./EmptyContent-vRT2zqjA.js";import"./DialogActions-vKtJfWwg.js";function E(){return s.jsxs(s.Fragment,{children:[s.jsx(o,{width:"100%",height:560,variant:"rectangular",sx:{borderRadius:2}}),s.jsxs(p,{sx:{mt:3,display:"flex",alignItems:"center"},children:[s.jsx(o,{variant:"circular",width:64,height:64}),s.jsxs(p,{sx:{flexGrow:1,ml:2},children:[s.jsx(o,{variant:"text",height:20}),s.jsx(o,{variant:"text",height:20}),s.jsx(o,{variant:"text",height:20})]})]})]})}function Y(){const{themeStretch:u}=S(),{title:r}=B(),[M,f]=a.useState([]),[t,P]=a.useState(null),[l,x]=a.useState(!0),[m,b]=a.useState(null),d=a.useCallback(async()=>{try{const e=await g.get(`http://127.0.0.1:3333/posts/${r}`,{withCredentials:!0});console.log(e.data),P(e.data),x(!1)}catch(e){console.error(e),x(!1),b(e.message)}},[r]),h=a.useCallback(async()=>{try{const e=await g.get("/api/blog/posts/recent",{params:{title:r}});f(e.data.recentPosts)}catch(e){console.error(e)}},[r]);return a.useEffect(()=>{h()},[h]),a.useEffect(()=>{r&&d()},[d,r]),s.jsxs(s.Fragment,{children:[s.jsx(D,{children:s.jsx("title",{children:`Blog: ${(t==null?void 0:t.post.title)||""} | Minimal UI`})}),s.jsxs(v,{maxWidth:u?!1:"lg",children:[s.jsx(y,{heading:"Post Details",links:[{name:"Dashboard",href:j.root},{name:"Blog",href:j.blog.root},{name:t==null?void 0:t.post.title}]}),t&&s.jsxs(n,{sx:{borderRadius:2,boxShadow:e=>({md:e.customShadows.card})},children:[s.jsx(C,{postData:t}),s.jsx(i,{variant:"h6",sx:{py:5,px:{md:5}},children:t.post.title}),s.jsx(w,{children:t.post.description,postData:t,sx:{px:{md:5}}}),s.jsxs(n,{spacing:3,sx:{py:5,px:{md:5}},children:[s.jsx(c,{}),s.jsx(k,{postData:t}),s.jsx(c,{})]}),s.jsxs(n,{spacing:2,sx:{px:{md:5}},children:[s.jsx(n,{children:s.jsx(i,{variant:"h4",children:"Your Offer"})}),s.jsx(R,{postData:t}),s.jsx(c,{sx:{mt:5,mb:2}})]})]}),m&&!l&&s.jsxs(i,{variant:"h6",children:["404 ",m]}),l&&s.jsx(E,{})]})]})}export{Y as default};
