import{ac as e,az as le,F as g,aN as I,aO as O,aJ as de,aK as xe,aL as U,aM as f,at as me,ab as Y,ad as Q,ae as o,aS as ue,an as c,b5 as F,aR as V,b2 as W,bI as Z,bY as he,ao as pe,b4 as ge,aD as P,aj as k,bZ as je,ai as ve,ax as q,aQ as fe,b_ as be,a9 as ye,b$ as we,aa as M,bh as Ce,aw as Se,ag as $,ak as Ie,al as Te,aV as Re,aA as ke,c0 as Pe,bF as De,bW as Ae,c1 as qe,as as We,aB as Fe,bH as Ne,c2 as Ee}from"./index-kAVNsXXW.js";import{M as He}from"./Markdown-EScK2ww8.js";import{C as Le}from"./CustomBreadcrumbs-07KkEdSP.js";import"./SkeletonConversationItem-L95VVb_N.js";import{G as R}from"./Grid-UjSMx0L8.js";import{S as T}from"./Skeleton-ET3ifG4q.js";import{L as ze}from"./Lightbox-_JL-soEW.js";import{a as _,c as Be}from"./CarouselArrowIndex-o3dBDXN5.js";import{I as Me}from"./IncrementerButton-SLvR_Q0x.js";import{b as $e}from"./ColorSinglePicker-3AMF9EUF.js";import{R as N}from"./Rating-w1NpzLI0.js";import{s as Ge}from"./index-Y0zBF9nK.js";import{s as Oe}from"./sumBy-LVdRNqgV.js";import{P as Ve}from"./Pagination-jQ-Mbb_4.js";import{D as _e}from"./DialogTitle-vCHwm-ka.js";import{D as Ue}from"./DialogContent-DKzr_HVR.js";import{D as Ye}from"./DialogActions-vKtJfWwg.js";import{C as Qe}from"./CartWidget-cSC3AcSk.js";import{C as Ze}from"./Card-yNtnckip.js";import{T as Je,a as Ke}from"./Tabs-vRgd6uc9.js";import"./LastPage-N6rQPigF.js";import"./dialogTitleClasses-wpKycvDL.js";import"./KeyboardArrowRight-6uRlvlB4.js";function Xe({...t}){return e.jsxs(R,{container:!0,spacing:3,...t,children:[e.jsx(R,{item:!0,xs:12,md:6,lg:7,children:e.jsx(T,{variant:"rectangular",width:"100%",sx:{paddingTop:"100%",borderRadius:2}})}),e.jsxs(R,{item:!0,xs:12,md:6,lg:5,children:[e.jsx(T,{variant:"circular",width:80,height:80}),e.jsx(T,{variant:"text",height:240}),e.jsx(T,{variant:"text",height:40}),e.jsx(T,{variant:"text",height:40}),e.jsx(T,{variant:"text",height:40})]})]})}const S=64,et=de("div",{shouldForwardProp:t=>t!=="length"})(({length:t,theme:r})=>({margin:r.spacing(0,"auto"),position:"relative","& .slick-slide":{opacity:.48,"&.slick-current":{opacity:1},"& > div":{padding:r.spacing(0,.75)}},...t===1&&{maxWidth:S*1+16},...t===2&&{maxWidth:S*2+32},...(t===3||t===4)&&{maxWidth:S*3+48},...t>=5&&{maxWidth:S*6},...t>2&&{"&:before, &:after":{...xe({direction:"to left",startColor:`${U(r.palette.background.default,0)} 0%`,endColor:`${r.palette.background.default} 100%`}),top:0,zIndex:9,content:"''",height:"100%",position:"absolute",width:S*2/3},"&:after":{right:0,transform:"scaleX(-1)"}}}));J.propTypes={product:f.object};function J({product:t}){const r=le(),l=g.useRef(null),s=g.useRef(null),[m,h]=g.useState(),[u,j]=g.useState(),[d,x]=g.useState(0),[y,a]=g.useState(-1),p=t.images.map(i=>({src:i})),v=i=>{const C=p.findIndex(B=>B.src===i);a(C)},w=()=>{a(-1)},E={dots:!1,arrows:!1,slidesToShow:1,draggable:!1,slidesToScroll:1,adaptiveHeight:!0,beforeChange:(i,C)=>x(C)},H={dots:!1,arrows:!1,centerMode:!0,swipeToSlide:!0,focusOnSelect:!0,variableWidth:!0,centerPadding:"0px",slidesToShow:t.images.length>3?3:t.images.length};g.useEffect(()=>{l.current&&h(l.current),s.current&&j(s.current)},[]),g.useEffect(()=>{var i;(i=l.current)==null||i.slickGoTo(d)},[d]);const D=()=>{var i;(i=s.current)==null||i.slickPrev()},L=()=>{var i;(i=s.current)==null||i.slickNext()},z=e.jsxs(I,{sx:{mb:3,borderRadius:2,overflow:"hidden",position:"relative"},children:[e.jsx(_,{...E,asNavFor:u,ref:l,children:t.images.map(i=>e.jsx(O,{alt:"product",src:i,ratio:"1/1",onClick:()=>v(i),sx:{cursor:"zoom-in"}},i))}),e.jsx(Be,{index:d,total:t.images.length,onNext:L,onPrevious:D})]}),A=e.jsx(et,{length:t.images.length,children:e.jsx(_,{...H,asNavFor:m,ref:s,children:t.images.map((i,C)=>e.jsx(O,{disabledEffect:!0,alt:"thumbnail",src:i,sx:{width:S,height:S,borderRadius:1.5,cursor:"pointer",...d===C&&{border:`solid 2px ${r.palette.primary.main}`}}},i))})});return e.jsxs(e.Fragment,{children:[e.jsxs(I,{sx:{"& .slick-slide":{float:r.direction==="rtl"?"right":"left"}},children:[z,A]}),e.jsx(ze,{index:y,slides:p,open:y>=0,close:w,onGetCurrentIndex:i=>x(i)})]})}K.propTypes={cart:f.array,onAddCart:f.func,product:f.object,onGotoStep:f.func};function K({cart:t,product:r,onAddCart:l,onGotoStep:s,...m}){const h=me(),{id:u,name:j,sizes:d,price:x,cover:y,status:a,colors:p,available:v,priceSale:w,totalRating:E,totalReview:H,inventoryType:D}=r,L=t.map(n=>n.id).includes(u),z=t.filter(n=>n.id===u).map(n=>n.quantity)[0]>=v,A={id:u,name:j,cover:y,available:v,price:x,colors:p[0],size:d[4],quantity:v<1?0:1},i=Y({defaultValues:A}),{reset:C,watch:B,control:ae,setValue:G,handleSubmit:ie}=i,b=B();g.useEffect(()=>{r&&C(A)},[r]);const ne=async n=>{try{L||l({...n,colors:[b.colors],subtotal:n.price*n.quantity}),s(0),h(q.eCommerce.checkout)}catch(ce){console.error(ce)}},oe=async()=>{try{l({...b,colors:[b.colors],subtotal:b.price*b.quantity})}catch(n){console.error(n)}};return e.jsx(Q,{methods:i,onSubmit:ie(ne),children:e.jsxs(o,{spacing:3,sx:{p:n=>({md:n.spacing(5,5,0,2)})},...m,children:[e.jsxs(o,{spacing:2,children:[e.jsx(ue,{variant:"soft",color:D==="in_stock"?"success":"error",sx:{textTransform:"uppercase",mr:"auto"},children:Ge(D||"")}),e.jsx(c,{variant:"overline",component:"div",sx:{color:a==="sale"?"error.main":"info.main"},children:a}),e.jsx(c,{variant:"h5",children:j}),e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(N,{value:E,precision:.1,readOnly:!0}),e.jsxs(c,{variant:"body2",sx:{color:"text.secondary"},children:["(",F(H),"reviews)"]})]}),e.jsxs(c,{variant:"h4",children:[w&&e.jsx(I,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:V(w)}),V(x)]})]}),e.jsx(W,{sx:{borderStyle:"dashed"}}),e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(c,{variant:"subtitle2",children:"Color"}),e.jsx(Z,{name:"colors",control:ae,render:({field:n})=>e.jsx($e,{colors:p,value:n.value,onChange:n.onChange,sx:{...p.length>4&&{maxWidth:144,justifyContent:"flex-end"}}})})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",children:[e.jsx(c,{variant:"subtitle2",sx:{height:40,lineHeight:"40px",flexGrow:1},children:"Size"}),e.jsx(he,{name:"size",size:"small",helperText:e.jsx(pe,{underline:"always",color:"inherit",children:"Size Chart"}),sx:{maxWidth:96,"& .MuiFormHelperText-root":{mx:0,mt:1,textAlign:"right"}},children:d.map(n=>e.jsx(ge,{value:n,children:n},n))})]}),e.jsxs(o,{direction:"row",justifyContent:"space-between",children:[e.jsx(c,{variant:"subtitle2",sx:{height:36,lineHeight:"36px"},children:"Quantity"}),e.jsxs(o,{spacing:1,children:[e.jsx(Me,{name:"quantity",quantity:b.quantity,disabledDecrease:b.quantity<=1,disabledIncrease:b.quantity>=v,onIncrease:()=>G("quantity",b.quantity+1),onDecrease:()=>G("quantity",b.quantity-1)}),e.jsxs(c,{variant:"caption",component:"div",sx:{textAlign:"right",color:"text.secondary"},children:["Available: ",v]})]})]}),e.jsx(W,{sx:{borderStyle:"dashed"}}),e.jsxs(o,{direction:"row",spacing:2,children:[e.jsx(P,{fullWidth:!0,disabled:z,size:"large",color:"warning",variant:"contained",startIcon:e.jsx(k,{icon:"ic:round-add-shopping-cart"}),onClick:oe,sx:{whiteSpace:"nowrap"},children:"Add to Cart"}),e.jsx(P,{fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Buy Now"})]}),e.jsx(o,{direction:"row",alignItems:"center",justifyContent:"center",children:je.map(n=>e.jsx(ve,{children:e.jsx(k,{icon:n.icon})},n.name))})]})})}X.propTypes={reviews:f.array};function X({reviews:t}){return e.jsxs(e.Fragment,{children:[e.jsx(o,{spacing:5,sx:{pt:5,pl:{xs:2.5,md:0},pr:{xs:2.5,md:5}},children:t.map(r=>e.jsx(ee,{review:r},r.id))}),e.jsx(o,{alignItems:{xs:"center",md:"flex-end"},sx:{my:5,mr:{md:5}},children:e.jsx(Ve,{count:10})})]})}ee.propTypes={review:f.object};function ee({review:t}){const{name:r,rating:l,comment:s,helpful:m,postedAt:h,avatarUrl:u,isPurchased:j}=t,[d,x]=g.useState(!1);return e.jsxs(o,{spacing:2,direction:{xs:"column",md:"row"},children:[e.jsxs(o,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[e.jsx(fe,{src:u,sx:{width:{md:64},height:{md:64}}}),e.jsxs(o,{spacing:{md:.5},children:[e.jsx(c,{variant:"subtitle2",noWrap:!0,children:r}),e.jsx(c,{variant:"caption",sx:{color:"text.secondary"},noWrap:!0,children:be(h)})]})]}),e.jsxs(o,{spacing:1,flexGrow:1,children:[e.jsx(N,{size:"small",value:l,precision:.1,readOnly:!0}),j&&e.jsxs(c,{variant:"caption",sx:{display:"flex",alignItems:"center",color:"success.main"},children:[e.jsx(k,{icon:"ic:round-verified",width:16,sx:{mr:.5}}),"Verified purchase"]}),e.jsx(c,{variant:"body2",children:s}),e.jsxs(o,{spacing:1,alignItems:{xs:"flex-start",sm:"center"},direction:{xs:"column",sm:"row"},children:[!d&&e.jsx(c,{variant:"subtitle2",children:"Was this review helpful to you?"}),e.jsxs(P,{size:"small",color:"inherit",startIcon:e.jsx(k,{icon:d?"eva:checkmark-fill":"ic:round-thumb-up"}),onClick:()=>x(!d),children:[d?"Helpful":"Thank","(",F(d?m+1:m),")"]})]})]})]})}te.propTypes={onClose:f.func};function te({onClose:t,...r}){var p;const l=ye().shape({rating:we().required("Rating is required"),review:M().required("Review is required"),name:M().required("Name is required"),email:M().required("Email is required").email("Email must be a valid email address")}),s={rating:null,review:"",name:"",email:""},m=Y({resolver:Te(l),defaultValues:s}),{reset:h,control:u,handleSubmit:j,formState:{errors:d,isSubmitting:x}}=m,y=async v=>{try{await new Promise(w=>setTimeout(w,500)),h(),t(),console.log("DATA",v)}catch(w){console.error(w)}},a=()=>{t(),h()};return e.jsx(Ce,{onClose:t,...r,children:e.jsxs(Q,{methods:m,onSubmit:j(y),children:[e.jsx(_e,{children:" Add Review "}),e.jsxs(Ue,{children:[e.jsxs(o,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1.5,children:[e.jsx(c,{variant:"body2",children:"Your review about this product:"}),e.jsx(Z,{name:"rating",control:u,render:({field:v})=>e.jsx(N,{...v,value:Number(v.value)})})]}),!!d.rating&&e.jsxs(Se,{error:!0,children:[" ",(p=d.rating)==null?void 0:p.message]}),e.jsx($,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx($,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx($,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(Ye,{children:[e.jsx(P,{color:"inherit",variant:"outlined",onClick:a,children:"Cancel"}),e.jsx(Ie,{type:"submit",variant:"contained",loading:x,children:"Post review"})]})]})})}se.propTypes={product:f.object};function se({product:t}){const{totalRating:r,totalReview:l,ratings:s}=t,[m,h]=g.useState(!1),u=()=>{h(!0)},j=()=>{h(!1)},d=Oe(s,x=>x.starCount);return e.jsxs(e.Fragment,{children:[e.jsxs(I,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},children:[e.jsxs(o,{alignItems:"center",justifyContent:"center",spacing:1,sx:{pt:{xs:5,md:0},pb:{xs:3,md:0}},children:[e.jsx(c,{variant:"subtitle1",sx:{color:"text.secondary"},children:"Average rating"}),e.jsxs(c,{variant:"h2",children:[r,"/5"]}),e.jsx(N,{readOnly:!0,value:r,precision:.1}),e.jsxs(c,{variant:"caption",sx:{color:"text.secondary"},children:["(",F(l)," reviews)"]})]}),e.jsx(o,{spacing:1.5,sx:{p:3,py:{md:5},borderLeft:x=>({md:`dashed 1px ${x.palette.divider}`}),borderRight:x=>({md:`dashed 1px ${x.palette.divider}`})},children:s.slice(0).reverse().map(x=>e.jsx(re,{star:x,total:d},x.name))}),e.jsx(o,{alignItems:"center",justifyContent:"center",sx:{pt:{xs:3,md:0},pb:{xs:5,md:0}},children:e.jsx(P,{color:"inherit",size:"large",onClick:u,variant:"outlined",startIcon:e.jsx(k,{icon:"eva:edit-fill"}),children:"Write your review"})})]}),e.jsx(W,{}),e.jsx(X,{reviews:t.reviews}),e.jsx(te,{open:m,onClose:j})]})}re.propTypes={star:f.object,total:f.number};function re({star:t,total:r}){const{name:l,starCount:s,reviewCount:m}=t;return e.jsxs(o,{direction:"row",alignItems:"center",children:[e.jsx(c,{variant:"subtitle2",sx:{width:42},children:l}),e.jsx(Re,{color:"inherit",variant:"determinate",value:s/r*100,sx:{mx:2,flexGrow:1}}),e.jsx(c,{variant:"body2",sx:{minWidth:48,color:"text.secondary"},children:F(m)})]})}const tt=[{title:"100% Original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"ic:round-verified"},{title:"10 Day Replacement",description:"Marshmallow biscuit donut dragÃ©e fruitcake wafer.",icon:"eva:clock-fill"},{title:"Year Warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"ic:round-verified-user"}];function It(){const{themeStretch:t}=ke(),{name:r}=Pe(),l=De(),{product:s,isLoading:m,checkout:h}=Ae(a=>a.product),[u,j]=g.useState("description");g.useEffect(()=>{r&&l(qe(r))},[l,r]);const d=a=>{l(Ne(a))},x=a=>{l(Ee(a))},y=[{value:"description",label:"description",component:s?e.jsx(He,{children:s==null?void 0:s.description}):null},{value:"reviews",label:`Reviews (${s?s.reviews.length:""})`,component:s?e.jsx(se,{product:s}):null}];return e.jsxs(e.Fragment,{children:[e.jsx(We,{children:e.jsx("title",{children:`Ecommerce: ${(s==null?void 0:s.name)||""} | Minimal UI`})}),e.jsxs(Fe,{maxWidth:t?!1:"lg",children:[e.jsx(Le,{heading:"Product Details",links:[{name:"Dashboard",href:q.root},{name:"E-Commerce",href:q.eCommerce.root},{name:"Shop",href:q.eCommerce.shop},{name:s==null?void 0:s.name}]}),e.jsx(Qe,{totalItems:h.totalItems}),s&&e.jsxs(e.Fragment,{children:[e.jsxs(R,{container:!0,spacing:3,children:[e.jsx(R,{item:!0,xs:12,md:6,lg:7,children:e.jsx(J,{product:s})}),e.jsx(R,{item:!0,xs:12,md:6,lg:5,children:e.jsx(K,{product:s,cart:h.cart,onAddCart:d,onGotoStep:x})})]}),e.jsx(I,{gap:5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{my:10},children:tt.map(a=>e.jsxs(I,{sx:{textAlign:"center"},children:[e.jsx(o,{alignItems:"center",justifyContent:"center",sx:{width:64,height:64,mx:"auto",borderRadius:"50%",color:"primary.main",bgcolor:p=>`${U(p.palette.primary.main,.08)}`},children:e.jsx(k,{icon:a.icon,width:36})}),e.jsx(c,{variant:"h6",sx:{mb:1,mt:3},children:a.title}),e.jsx(c,{sx:{color:"text.secondary"},children:a.description})]},a.title))}),e.jsxs(Ze,{children:[e.jsx(Je,{value:u,onChange:(a,p)=>j(p),sx:{px:3,bgcolor:"background.neutral"},children:y.map(a=>e.jsx(Ke,{value:a.value,label:a.label},a.value))}),e.jsx(W,{}),y.map(a=>a.value===u&&e.jsx(I,{sx:{...u==="description"&&{p:3}},children:a.component},a.value))]})]}),m&&e.jsx(Xe,{})]})]})}export{It as default};
