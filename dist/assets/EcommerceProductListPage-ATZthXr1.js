import{ac as e,ae as B,F as m,b7 as X,aO as le,ao as ce,b_ as de,aS as he,aR as ue,ai as $,aj as g,b3 as me,b4 as _,aD as A,aM as l,c3 as xe,c4 as pe,c5 as ge,c6 as fe,bi as je,ah as Ce,aA as be,at as we,bF as ve,bW as Se,bX as Te,as as Pe,aB as ye,ax as S,ap as Re,be as ke,aP as Fe}from"./index-kAVNsXXW.js";import{e as Ae,g as De}from"./utils-BH68Vpzu.js";import{u as Ie}from"./useTable-l4SK5Cxu.js";import{a as Oe,T as Ee,b as Le,c as _e,d as Be}from"./TablePaginationCustom-D5U7UEwi.js";import{c as q,T as Ne,a as Me,b as We}from"./TableRow-zrsFapiu.js";import{T as p}from"./TableCell-7incTXUx.js";import{S as C}from"./Skeleton-ET3ifG4q.js";import{C as ze}from"./CustomBreadcrumbs-07KkEdSP.js";import{C as G}from"./ConfirmDialog-XnXcLk1r.js";import{s as J}from"./index-Y0zBF9nK.js";import{C as He}from"./Card-yNtnckip.js";import{p as U}from"./index-7OLVL5xd.js";import"./EmptyContent-vRT2zqjA.js";import"./TablePagination-Vshr5hr6.js";import"./KeyboardArrowRight-6uRlvlB4.js";import"./LastPage-N6rQPigF.js";import"./DialogTitle-vCHwm-ka.js";import"./dialogTitleClasses-wpKycvDL.js";import"./DialogContent-DKzr_HVR.js";import"./DialogActions-vKtJfWwg.js";function Ve({...o}){return e.jsx(q,{...o,children:e.jsx(p,{colSpan:12,children:e.jsxs(B,{spacing:3,direction:"row",alignItems:"center",children:[e.jsx(C,{variant:"rectangular",width:40,height:40,sx:{borderRadius:1,flexShrink:0}}),e.jsx(C,{variant:"text",width:"100%",height:20}),e.jsx(C,{variant:"text",width:160,height:20}),e.jsx(C,{variant:"text",width:160,height:20}),e.jsx(C,{variant:"text",width:160,height:20}),e.jsx(C,{variant:"text",width:160,height:20})]})})})}K.propTypes={row:l.object,selected:l.bool,onEditRow:l.func,onViewRow:l.func,onSelectRow:l.func,onDeleteRow:l.func};function K({row:o,selected:s,onSelectRow:d,onDeleteRow:h,onEditRow:a,onViewRow:n}){const{name:r,cover:i,createdAt:b,inventoryType:x,price:D}=o,[I,T]=m.useState(!1),[P,y]=m.useState(null),R=()=>{T(!0)},k=()=>{T(!1)},w=c=>{y(c.currentTarget)},f=()=>{y(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(q,{hover:!0,selected:s,children:[e.jsx(p,{padding:"checkbox",children:e.jsx(X,{checked:s,onClick:d})}),e.jsx(p,{children:e.jsxs(B,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(le,{disabledEffect:!0,visibleByDefault:!0,alt:r,src:i,sx:{borderRadius:1.5,width:48,height:48}}),e.jsx(ce,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:n,sx:{cursor:"pointer"},children:r})]})}),e.jsx(p,{children:de(b)}),e.jsx(p,{align:"center",children:e.jsx(he,{variant:"soft",color:x==="out_of_stock"&&"error"||x==="low_stock"&&"warning"||"success",sx:{textTransform:"capitalize"},children:x?J(x):""})}),e.jsx(p,{align:"right",children:ue(D)}),e.jsx(p,{align:"right",children:e.jsx($,{color:P?"primary":"default",onClick:w,children:e.jsx(g,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(me,{open:P,onClose:f,arrow:"right-top",sx:{width:140},children:[e.jsxs(_,{onClick:()=>{R(),f()},sx:{color:"error.main"},children:[e.jsx(g,{icon:"eva:trash-2-outline"}),"Delete"]}),e.jsxs(_,{onClick:()=>{a(),f()},children:[e.jsx(g,{icon:"eva:edit-fill"}),"Edit"]})]}),e.jsx(G,{open:I,onClose:k,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(A,{variant:"contained",color:"error",onClick:h,children:"Delete"})})]})}Q.propTypes={isFiltered:l.bool,filterName:l.string,onFilterName:l.func,onResetFilter:l.func,filterStatus:l.array,onFilterStatus:l.func,statusOptions:l.array};function Q({isFiltered:o,filterName:s,filterStatus:d,onFilterName:h,statusOptions:a,onResetFilter:n,onFilterStatus:r}){return e.jsxs(B,{spacing:2,alignItems:"center",direction:{xs:"column",md:"row"},sx:{px:2.5,py:3},children:[e.jsxs(xe,{sx:{width:{xs:1,md:240}},children:[e.jsx(pe,{sx:{"&.Mui-focused":{color:"text.primary"}},children:"Status"}),e.jsx(ge,{multiple:!0,value:d,onChange:r,input:e.jsx(fe,{label:"Status"}),renderValue:i=>i.map(b=>J(b)).join(", "),children:a.map(i=>e.jsxs(_,{value:i.value,sx:{p:0,mx:1,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:[e.jsx(X,{disableRipple:!0,size:"small",checked:d.includes(i.value)}),i.label]},i.value))})]}),e.jsx(je,{fullWidth:!0,value:s,onChange:h,placeholder:"Search...",InputProps:{startAdornment:e.jsx(Ce,{position:"start",children:e.jsx(g,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),o&&e.jsx(A,{color:"error",sx:{flexShrink:0},onClick:n,startIcon:e.jsx(g,{icon:"eva:trash-2-outline"}),children:"Clear"})]})}const Ue=[{id:"name",label:"Product",align:"left"},{id:"createdAt",label:"Create at",align:"left"},{id:"inventoryType",label:"Status",align:"center",width:180},{id:"price",label:"Price",align:"right"},{id:""}],Xe=[{value:"in_stock",label:"In stock"},{value:"low_stock",label:"Low stock"},{value:"out_of_stock",label:"Out of stock"}];function mt(){const{dense:o,page:s,order:d,orderBy:h,rowsPerPage:a,setPage:n,selected:r,setSelected:i,onSelectRow:b,onSelectAllRows:x,onSort:D,onChangeDense:I,onChangePage:T,onChangeRowsPerPage:P}=Ie({defaultOrderBy:"createdAt"}),{themeStretch:y}=be(),R=we(),k=ve(),{products:w,isLoading:f}=Se(t=>t.product),[c,O]=m.useState([]),[F,N]=m.useState(""),[E,M]=m.useState([]),[Y,W]=m.useState(!1);m.useEffect(()=>{k(Te())},[k]),m.useEffect(()=>{w.length&&O(w)},[w]);const j=$e({inputData:c,comparator:De(d,h),filterName:F,filterStatus:E}),L=j.slice(s*a,s*a+a),z=o?60:80,Z=F!==""||!!E.length,H=!j.length&&!!F||!f&&!j.length,ee=()=>{W(!0)},V=()=>{W(!1)},te=t=>{n(0),N(t.target.value)},ne=t=>{n(0),M(t.target.value)},oe=t=>{const u=c.filter(v=>v.id!==t);i([]),O(u),s>0&&L.length<2&&n(s-1)},se=t=>{const u=c.filter(v=>!t.includes(v.id));if(i([]),O(u),s>0){if(t.length===L.length)n(s-1);else if(t.length===j.length)n(0);else if(t.length>L.length){const v=Math.ceil((c.length-t.length)/a)-1;n(v)}}},ae=t=>{R(S.eCommerce.edit(U(t)))},re=t=>{R(S.eCommerce.view(U(t)))},ie=()=>{N(""),M([])};return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{children:e.jsx("title",{children:" Ecommerce: Product List | Minimal UI"})}),e.jsxs(ye,{maxWidth:y?!1:"lg",children:[e.jsx(ze,{heading:"Product List",links:[{name:"Dashboard",href:S.root},{name:"E-Commerce",href:S.eCommerce.root},{name:"List"}],action:e.jsx(A,{component:Re,to:S.eCommerce.new,variant:"contained",startIcon:e.jsx(g,{icon:"eva:plus-fill"}),children:"New Product"})}),e.jsxs(He,{children:[e.jsx(Q,{filterName:F,filterStatus:E,onFilterName:te,onFilterStatus:ne,statusOptions:Xe,isFiltered:Z,onResetFilter:ie}),e.jsxs(Ne,{sx:{position:"relative",overflow:"unset"},children:[e.jsx(Oe,{dense:o,numSelected:r.length,rowCount:c.length,onSelectAllRows:t=>x(t,c.map(u=>u.id)),action:e.jsx(ke,{title:"Delete",children:e.jsx($,{color:"primary",onClick:ee,children:e.jsx(g,{icon:"eva:trash-2-outline"})})})}),e.jsx(Fe,{children:e.jsxs(Me,{size:o?"small":"medium",sx:{minWidth:960},children:[e.jsx(Ee,{order:d,orderBy:h,headLabel:Ue,rowCount:c.length,numSelected:r.length,onSort:D,onSelectAllRows:t=>x(t,c.map(u=>u.id))}),e.jsxs(We,{children:[(f?[...Array(a)]:j).slice(s*a,s*a+a).map((t,u)=>t?e.jsx(K,{row:t,selected:r.includes(t.id),onSelectRow:()=>b(t.id),onDeleteRow:()=>oe(t.id),onEditRow:()=>ae(t.name),onViewRow:()=>re(t.name)},t.id):!H&&e.jsx(Ve,{sx:{height:z}},u)),e.jsx(Le,{height:z,emptyRows:Ae(s,a,c.length)}),e.jsx(_e,{isNotFound:H})]})]})})]}),e.jsx(Be,{count:j.length,page:s,rowsPerPage:a,onPageChange:T,onRowsPerPageChange:P,dense:o,onChangeDense:I})]})]}),e.jsx(G,{open:Y,onClose:V,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",r.length," "]})," items?"]}),action:e.jsx(A,{variant:"contained",color:"error",onClick:()=>{se(r),V()},children:"Delete"})})]})}function $e({inputData:o,comparator:s,filterName:d,filterStatus:h}){const a=o.map((n,r)=>[n,r]);return a.sort((n,r)=>{const i=s(n[0],r[0]);return i!==0?i:n[1]-r[1]}),o=a.map(n=>n[0]),d&&(o=o.filter(n=>n.name.toLowerCase().indexOf(d.toLowerCase())!==-1)),h.length&&(o=o.filter(n=>h.includes(n.inventoryType))),o}export{mt as default};
