import{aA as ee,F as m,ed as te,ac as e,as as ne,aB as oe,ax as se,aD as v,aj as O,ae as T,dH as ae,cx as j}from"./index-kAVNsXXW.js";import{C as re}from"./ConfirmDialog-XnXcLk1r.js";import{C as ie}from"./CustomBreadcrumbs-07KkEdSP.js";import{g as le}from"./utils-BH68Vpzu.js";import{u as ce}from"./useTable-l4SK5Cxu.js";import"./TablePaginationCustom-D5U7UEwi.js";import{u as de,D as me}from"./DateRangePicker-FDku5r4T.js";import{e as pe,f as ge,g as he,h as fe,i as xe,j as ue,d as Ce}from"./FileChangeViewButton-RXVHnAuB.js";import"./DialogTitle-vCHwm-ka.js";import"./dialogTitleClasses-wpKycvDL.js";import"./DialogContent-DKzr_HVR.js";import"./DialogActions-vKtJfWwg.js";import"./EmptyContent-vRT2zqjA.js";import"./TableRow-zrsFapiu.js";import"./TableCell-7incTXUx.js";import"./TablePagination-Vshr5hr6.js";import"./KeyboardArrowRight-6uRlvlB4.js";import"./LastPage-N6rQPigF.js";import"./DatePicker-Z7sQcGdH.js";import"./Grid-UjSMx0L8.js";import"./CardActionArea-SwEECdnZ.js";import"./useDoubleClick-jJv6AhXe.js";import"./useCopyToClipboard-4iGMhLUz.js";import"./TextMaxLine-pXA0ho8x.js";import"./ListItem-FMmCa5iw.js";import"./ListItemSecondaryAction-aS3Nc1Gz.js";import"./Card-yNtnckip.js";import"./ToggleButtonGroup-wQIhh8zC.js";const Fe=["folder","txt","zip","audio","image","video","word","excel","powerpoint","pdf","photoshop","illustrator"];function Ke(){const t=ce({defaultRowsPerPage:10}),{startDate:c,endDate:r,onChangeStartDate:f,onChangeEndDate:x,open:u,onOpen:P,onClose:C,onReset:o,isSelected:a,isError:p,shortLabel:U}=de(null,null),{themeStretch:L}=ee(),[R,V]=m.useState("list"),[F,b]=m.useState(""),[d,y]=m.useState(te),[i,w]=m.useState([]),[_,E]=m.useState(!1),[H,B]=m.useState(!1),l=je({inputData:d,comparator:le(t.order,t.orderBy),filterName:F,filterType:i,filterStartDate:c,filterEndDate:r,isError:!!p}),S=l.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage),z=!l.length&&!!F||!l.length&&!!i||!l.length&&!!r&&!!c,W=!!F||!!i.length||!!c&&!!r,G=(n,s)=>{s!==null&&V(s)},Y=n=>{t.setPage(0),b(n.target.value)},q=n=>{t.setPage(0),f(n)},J=n=>{t.setPage(0),x(n)},K=n=>{const s=i.includes(n)?i.filter(g=>g!==n):[...i,n];t.setPage(0),w(s)},N=n=>{const{page:s,setPage:g,setSelected:h}=t,D=d.filter(k=>k.id!==n);h([]),y(D),s>0&&S.length<2&&g(s-1)},Q=n=>{const{page:s,rowsPerPage:g,setPage:h,setSelected:D}=t,k=d.filter(I=>!n.includes(I.id));if(D([]),y(k),s>0){if(n.length===S.length)h(s-1);else if(n.length===l.length)h(0);else if(n.length>S.length){const I=Math.ceil((d.length-n.length)/g)-1;h(I)}}},X=()=>{o&&o(),b(""),w([])},A=()=>{E(!0)},M=()=>{E(!1)},Z=()=>{B(!0)},$=()=>{B(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{children:e.jsx("title",{children:" File Manager | Minimal UI"})}),e.jsxs(oe,{maxWidth:L?!1:"lg",children:[e.jsx(ie,{heading:"File Manager",links:[{name:"Dashboard",href:se.root},{name:"File Manager"}],action:e.jsx(v,{variant:"contained",startIcon:e.jsx(O,{icon:"eva:cloud-upload-fill"}),onClick:Z,children:"Upload"})}),e.jsxs(T,{spacing:2.5,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},justifyContent:"space-between",sx:{mb:5},children:[e.jsxs(T,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{md:"center"},sx:{width:1},children:[e.jsx(pe,{filterName:F,onFilterName:Y}),e.jsxs(T,{direction:{xs:"column",sm:"row"},spacing:1,children:[e.jsxs(e.Fragment,{children:[e.jsx(ge,{isSelected:!!a,startIcon:e.jsx(O,{icon:"eva:calendar-fill"}),onClick:P,children:a?U:"Select Date"}),e.jsx(me,{variant:"calendar",startDate:c,endDate:r,onChangeStartDate:q,onChangeEndDate:J,open:u,onClose:C,isSelected:a,isError:p})]}),e.jsx(he,{filterType:i,onFilterType:K,optionsType:Fe,onReset:()=>w([])}),W&&e.jsx(v,{variant:"soft",color:"error",onClick:X,startIcon:e.jsx(O,{icon:"eva:trash-2-outline"}),children:"Clear"})]})]}),e.jsx(fe,{value:R,onChange:G})]}),R==="list"?e.jsx(xe,{table:t,tableData:d,dataFiltered:l,onDeleteRow:N,isNotFound:z,onOpenConfirm:A}):e.jsx(ue,{table:t,data:d,dataFiltered:l,onDeleteItem:N,onOpenConfirm:A})]}),e.jsx(Ce,{open:H,onClose:$}),e.jsx(re,{open:_,onClose:M,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",t.selected.length," "]})," items?"]}),action:e.jsx(v,{variant:"contained",color:"error",onClick:()=>{Q(t.selected),M()},children:"Delete"})})]})}function je({inputData:t,comparator:c,filterName:r,filterType:f,filterStartDate:x,filterEndDate:u,isError:P}){const C=t.map((o,a)=>[o,a]);return C.sort((o,a)=>{const p=c(o[0],a[0]);return p!==0?p:o[1]-a[1]}),t=C.map(o=>o[0]),r&&(t=t.filter(o=>o.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),f.length&&(t=t.filter(o=>f.includes(ae(o.type)))),x&&u&&!P&&(t=t.filter(o=>j(o.dateCreated)>=j(x)&&j(o.dateCreated)<=j(u))),t}export{Ke as default};
