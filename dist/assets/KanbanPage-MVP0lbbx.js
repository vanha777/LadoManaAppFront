import{ac as g,aN as Q,ba as le,ae as O,F as v,R as P,eP as In,cE as Cn,eQ as Wt,eR as Yr,dZ as Sn,eS as Jr,eT as Xr,eU as Zr,eV as Qr,bj as gt,aM as E,bl as eo,be as J,ai as V,aj as B,aD as re,bh as to,an as xe,eW as $t,bi as mt,ah as no,bS as ro,aP as An,dE as oo,aQ as ht,dF as so,b8 as io,aO as wn,eX as ao,bD as lo,bO as co,aL as Le,b6 as uo,bP as po,a8 as fo,cv as go,bJ as mo,b2 as _t,aJ as ho,b7 as En,er as Rn,b3 as bo,b4 as Ht,bF as bt,au as xo,eY as vo,eZ as yo,e_ as Do,e$ as Io,f0 as Co,bW as So,f1 as Ao,as as wo,aB as Eo,ax as Ro,f2 as Po,f3 as Oo,f4 as Ut}from"./index-kAVNsXXW.js";import{C as Bo}from"./CustomBreadcrumbs-07KkEdSP.js";import"./SkeletonConversationItem-L95VVb_N.js";import{S as Xe}from"./Skeleton-ET3ifG4q.js";import{u as Pn,D as On}from"./DateRangePicker-FDku5r4T.js";import{C as Bn}from"./ConfirmDialog-XnXcLk1r.js";import{D as No}from"./DialogTitle-vCHwm-ka.js";import{D as To}from"./DialogContent-DKzr_HVR.js";import{L as Lo}from"./ListItem-FMmCa5iw.js";import{L as jo}from"./Lightbox-_JL-soEW.js";import{u as Vt}from"./uuidv4-aWC4thH7.js";import"./DatePicker-Z7sQcGdH.js";import"./Grid-UjSMx0L8.js";import"./DialogActions-vKtJfWwg.js";import"./dialogTitleClasses-wpKycvDL.js";import"./ListItemSecondaryAction-aS3Nc1Gz.js";function ko({...e}){return g.jsx(Q,{gap:3,display:"grid",gridTemplateColumns:"repeat(4, 1fr)",...e,children:[...Array(3)].map((t,n)=>g.jsx(le,{variant:"outlined",sx:{p:2.5,width:310},children:g.jsxs(O,{spacing:2,children:[g.jsx(Xe,{variant:"rectangular",sx:{paddingTop:"75%",borderRadius:1.5}}),n===0&&g.jsx(Xe,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}}),n!==2&&g.jsx(Xe,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}})]})},n))})}function Go(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Nn(e,t){var n=v.useState(function(){return{inputs:t,result:e()}})[0],r=v.useRef(!0),o=v.useRef(n),s=r.current||!!(t&&o.current.inputs&&Go(t,o.current.inputs)),i=s?o.current:{inputs:t,result:e()};return v.useEffect(function(){r.current=!1,o.current=i},[i]),i.result}function Mo(e,t){return Nn(function(){return e},t)}var w=Nn,y=Mo,Fo=!0,Ze="Invariant failed";function Wo(e,t){if(!e){if(Fo)throw new Error(Ze);var n=typeof t=="function"?t():t,r=n?"".concat(Ze,": ").concat(n):Ze;throw new Error(r)}}var K=function(t){var n=t.top,r=t.right,o=t.bottom,s=t.left,i=r-s,a=o-n,l={top:n,right:r,bottom:o,left:s,width:i,height:a,x:s,y:n,center:{x:(r+s)/2,y:(o+n)/2}};return l},xt=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},zt=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},$o=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Qe={top:0,right:0,bottom:0,left:0},vt=function(t){var n=t.borderBox,r=t.margin,o=r===void 0?Qe:r,s=t.border,i=s===void 0?Qe:s,a=t.padding,l=a===void 0?Qe:a,u=K(xt(n,o)),p=K(zt(n,i)),c=K(zt(p,l));return{marginBox:u,borderBox:K(n),paddingBox:p,contentBox:c,margin:o,border:i,padding:l}},U=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var o=Number(n);return isNaN(o)&&Wo(!1),o},_o=function(){return{x:window.pageXOffset,y:window.pageYOffset}},je=function(t,n){var r=t.borderBox,o=t.border,s=t.margin,i=t.padding,a=$o(r,n);return vt({borderBox:a,border:o,margin:s,padding:i})},ke=function(t,n){return n===void 0&&(n=_o()),je(t,n)},Tn=function(t,n){var r={top:U(n.marginTop),right:U(n.marginRight),bottom:U(n.marginBottom),left:U(n.marginLeft)},o={top:U(n.paddingTop),right:U(n.paddingRight),bottom:U(n.paddingBottom),left:U(n.paddingLeft)},s={top:U(n.borderTopWidth),right:U(n.borderRightWidth),bottom:U(n.borderBottomWidth),left:U(n.borderLeftWidth)};return vt({borderBox:t,margin:r,padding:o,border:s})},Ln=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Tn(n,r)},qt=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ho(e,t){return!!(e===t||qt(e)&&qt(t))}function Uo(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ho(e[n],t[n]))return!1;return!0}function k(e,t){t===void 0&&(t=Uo);var n=null;function r(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var i=e.apply(this,o);return n={lastResult:i,lastArgs:o,lastThis:this},i}return r.clear=function(){n=null},r}var Vo=function(t){var n=[],r=null,o=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};const De=Vo;function jn(e,t){}jn.bind(null,"warn");jn.bind(null,"error");function X(){}function zo(e,t){return{...e,...t}}function z(e,t,n){const r=t.map(o=>{const s=zo(n,o.options);return e.addEventListener(o.eventName,o.fn,s),function(){e.removeEventListener(o.eventName,o.fn,s)}});return function(){r.forEach(s=>{s()})}}const qo="Invariant failed";class Ge extends Error{}Ge.prototype.toString=function(){return this.message};function b(e,t){if(!e)throw new Ge(qo)}class Ko extends P.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=X,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ge&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=z(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ge){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Yo=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Me=e=>e+1,Jo=e=>`
  You have lifted an item in position ${Me(e.source.index)}
`,kn=(e,t)=>{const n=e.droppableId===t.droppableId,r=Me(e.index),o=Me(t.index);return n?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},Gn=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Xo=e=>{const t=e.destination;if(t)return kn(e.source,t);const n=e.combine;return n?Gn(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Kt=e=>`
  The item has returned to its starting position
  of ${Me(e.index)}
`,Zo=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Kt(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${kn(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Gn(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Kt(e.source)}
  `},Qo={dragHandleUsageInstructions:Yo,onDragStart:Jo,onDragUpdate:Xo,onDragEnd:Zo};var Te=Qo;const G={x:0,y:0},M=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),$=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Z=(e,t)=>e.x===t.x&&e.y===t.y,ce=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),oe=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Ie=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Yt=(e,t)=>Math.min(...t.map(n=>Ie(e,n))),Mn=e=>t=>({x:e(t.x),y:e(t.y)});var es=(e,t)=>{const n=K({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Re=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Jt=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],ts={top:0,right:0,bottom:0,left:0},ns=(e,t)=>t?Re(e,t.scroll.diff.displacement):e,rs=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,os=(e,t)=>t&&t.shouldClipSubject?es(t.pageMarginBox,e):K(e);var se=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=ns(e.marginBox,r),s=rs(o,n,t),i=os(s,r);return{page:e,withPlaceholder:t,active:i}},yt=(e,t)=>{e.frame||b(!1);const n=e.frame,r=$(t,n.scroll.initial),o=ce(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},i=se({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:i}};const Fn=k(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Wn=k(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),_e=k(e=>Object.values(e)),ss=k(e=>Object.values(e));var de=k((e,t)=>ss(t).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function Dt(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function He(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ue=k((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),is=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled||!Dt(o))return null;function i(f){const m={type:"COMBINE",combine:{draggableId:f,droppableId:n.descriptor.id}};return{...o,at:m}}const a=o.displaced.all,l=a.length?a[0]:null;if(e)return l?i(l):null;const u=Ue(t,r);if(!l){if(!u.length)return null;const f=u[u.length-1];return i(f.descriptor.id)}const p=u.findIndex(f=>f.descriptor.id===l);p===-1&&b(!1);const c=p-1;if(c<0)return null;const d=u[c];return i(d.descriptor.id)},ue=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const $n={point:G,value:0},Ce={invisible:{},visible:{},all:[]},as={displaced:Ce,displacedBy:$n,at:null};var ls=as,q=(e,t)=>n=>e<=n&&n<=t,_n=e=>{const t=q(e.top,e.bottom),n=q(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(s&&i)return!0;const l=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return l&&u?!0:l&&i||u&&s}},cs=e=>{const t=q(e.top,e.bottom),n=q(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const It={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Hn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ds=e=>t=>{const n=q(t.top,t.bottom),r=q(t.left,t.right);return o=>e===It?n(o.top)&&n(o.bottom):r(o.left)&&r(o.right)};const us=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:G;return Re(e,n)},ps=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,fs=(e,t,n)=>n(t)(e),Ct=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const s=r?us(e,t):e;return ps(s,t,o)&&fs(s,n,o)},gs=e=>Ct({...e,isVisibleThroughFrameFn:_n}),Un=e=>Ct({...e,isVisibleThroughFrameFn:cs}),ms=e=>Ct({...e,isVisibleThroughFrameFn:ds(e.destination.axis)}),hs=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const s=o[e];return s?s.shouldAnimate:!0};function bs(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return K(xt(n,r))}function Se({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:s}){return e.reduce(function(a,l){const u=bs(l,n),p=l.descriptor.id;if(a.all.push(p),!gs({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const d=hs(p,s,o),f={draggableId:p,shouldAnimate:d};return a.visible[p]=f,a},{all:[],visible:{},invisible:{}})}function xs(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Xt({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=xs(e,{inHomeList:t});return{displaced:Ce,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Fe({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:s,index:i,forceShouldAnimate:a}){const l=ue(e,n);if(i==null)return Xt({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const u=t.find(m=>m.descriptor.index===i);if(!u)return Xt({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const p=Ue(e,t),c=t.indexOf(u),d=p.slice(c);return{displaced:Se({afterDragging:d,destination:n,displacedBy:o,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function ee(e,t){return!!t.effected[e]}var vs=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return ee(s,o)?e?a:a-1:e?a+1:a},ys=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,s=e?o+1:o-1,i=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return s<i||s>l?null:s},Ds=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:s,previousImpact:i,viewport:a,afterCritical:l})=>{const u=i.at;if(u||b(!1),u.type==="REORDER"){const c=ys({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:s});return c==null?null:Fe({draggable:n,insideDestination:s,destination:o,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:c})}const p=vs({isMovingForward:e,destination:o,displaced:i.displaced,draggables:r,combine:u.combine,afterCritical:l});return p==null?null:Fe({draggable:n,insideDestination:s,destination:o,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:p})},Is=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=!!(e.visible[n]||e.invisible[n]);return ee(n,t)?o?G:ce(r.point):o?r.point:G},Cs=({afterCritical:e,impact:t,draggables:n})=>{const r=He(t);r||b(!1);const o=r.draggableId,s=n[o].page.borderBox.center,i=Is({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return M(s,i)};const Vn=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Ss=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,St=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Zt=({axis:e,moveRelativeTo:t,isMoving:n})=>oe(e.line,t.marginBox[e.end]+Vn(e,n),St(e,t.marginBox,n)),Qt=({axis:e,moveRelativeTo:t,isMoving:n})=>oe(e.line,t.marginBox[e.start]-Ss(e,n),St(e,t.marginBox,n)),As=({axis:e,moveInto:t,isMoving:n})=>oe(e.line,t.contentBox[e.start]+Vn(e,n),St(e,t.contentBox,n));var ws=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const s=de(r.descriptor.id,n),i=t.page,a=r.axis;if(!s.length)return As({axis:a,moveInto:r.page,isMoving:i});const{displaced:l,displacedBy:u}=e,p=l.all[0];if(p){const d=n[p];if(ee(p,o))return Qt({axis:a,moveRelativeTo:d.page,isMoving:i});const f=je(d.page,u.point);return Qt({axis:a,moveRelativeTo:f,isMoving:i})}const c=s[s.length-1];if(c.descriptor.id===t.descriptor.id)return i.borderBox.center;if(ee(c.descriptor.id,o)){const d=je(c.page,ce(o.displacedBy.point));return Zt({axis:a,moveRelativeTo:d,isMoving:i})}return Zt({axis:a,moveRelativeTo:c.page,isMoving:i})},lt=(e,t)=>{const n=e.frame;return n?M(t,n.scroll.diff.displacement):t};const Es=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const s=t.page.borderBox.center,i=e.at;return!n||!i?s:i.type==="REORDER"?ws({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):Cs({impact:e,draggables:r,afterCritical:o})};var Ve=e=>{const t=Es(e),n=e.droppable;return n?lt(n,t):t},zn=(e,t)=>{const n=$(t,e.scroll.initial),r=ce(n);return{frame:K({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function en(e,t){return e.map(n=>t[n])}function Rs(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Ps=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const s=zn(t,M(t.scroll.current,o)),i=n.frame?yt(n,M(n.frame.scroll.current,o)):n,a=e.displaced,l=Se({afterDragging:en(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=Se({afterDragging:en(a.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),p={},c={},d=[a,l,u];return a.all.forEach(m=>{const h=Rs(m,d);if(h){c[m]=h;return}p[m]=!0}),{...e,displaced:{all:a.all,invisible:p,visible:c}}},Os=(e,t)=>M(e.scroll.diff.displacement,t),At=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Os(n,e),o=$(r,t.page.borderBox.center);return M(t.client.borderBox.center,o)},qn=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:s=!1})=>{const i=$(n,e.page.borderBox.center),l={target:Re(e.page.borderBox,i),destination:t,withDroppableDisplacement:o,viewport:r};return s?ms(l):Un(l)},Bs=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:s,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=de(n.descriptor.id,r),p=ue(t,n),c=is({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:o})||Ds({isMovingForward:e,isInHomeList:p,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:o,viewport:s,afterCritical:l});if(!c)return null;const d=Ve({impact:c,draggable:t,droppable:n,draggables:r,afterCritical:l});if(qn({draggable:t,destination:n,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:At({pageBorderBoxCenter:d,draggable:t,viewport:s}),impact:c,scrollJumpRequest:null};const m=$(d,i),h=Ps({impact:c,viewport:s,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:a,impact:h,scrollJumpRequest:m}};const W=e=>{const t=e.subject.active;return t||b(!1),t};var Ns=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const s=n.subject.active;if(!s)return null;const i=n.axis,a=q(s[i.start],s[i.end]),l=_e(r).filter(p=>p!==n).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>_n(o.frame)(W(p))).filter(p=>{const c=W(p);return e?s[i.crossAxisEnd]<c[i.crossAxisEnd]:c[i.crossAxisStart]<s[i.crossAxisStart]}).filter(p=>{const c=W(p),d=q(c[i.start],c[i.end]);return a(c[i.start])||a(c[i.end])||d(s[i.start])||d(s[i.end])}).sort((p,c)=>{const d=W(p)[i.crossAxisStart],f=W(c)[i.crossAxisStart];return e?d-f:f-d}).filter((p,c,d)=>W(p)[i.crossAxisStart]===W(d[0])[i.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(p=>q(W(p)[i.start],W(p)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((p,c)=>W(p)[i.start]-W(c)[i.start])[0]:l.sort((p,c)=>{const d=Yt(t,Jt(W(p))),f=Yt(t,Jt(W(c)));return d!==f?d-f:W(p)[i.start]-W(c)[i.start]})[0]};const tn=(e,t)=>{const n=e.page.borderBox.center;return ee(e.descriptor.id,t)?$(n,t.displacedBy.point):n},Ts=(e,t)=>{const n=e.page.borderBox;return ee(e.descriptor.id,t)?Re(n,ce(t.displacedBy.point)):n};var Ls=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(i=>Un({target:Ts(i,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,a)=>{const l=Ie(e,lt(n,tn(i,o))),u=Ie(e,lt(n,tn(a,o)));return l<u?-1:u<l?1:i.descriptor.index-a.descriptor.index})[0]||null,Pe=k(function(t,n){const r=n[t.line];return{value:r,point:oe(t.line,r)}});const js=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return oe(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],l=de(e.descriptor.id,n).reduce((u,p)=>u+p.client.marginBox[r.size],0)+t[r.line]-o;return l<=0?null:oe(r.line,l)},Kn=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Yn=(e,t,n)=>{const r=e.frame;ue(t,e)&&b(!1),e.subject.withPlaceholder&&b(!1);const o=Pe(e.axis,t.displaceBy).point,s=js(e,o,n),i={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const p=se({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:p}}const a=s?M(r.scroll.max,s):r.scroll.max,l=Kn(r,a),u=se({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:u,frame:l}},ks=e=>{const t=e.subject.withPlaceholder;t||b(!1);const n=e.frame;if(!n){const i=se({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||b(!1);const o=Kn(n,r),s=se({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:s,frame:o}};var Gs=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:s,viewport:i,afterCritical:a})=>{if(!t){if(n.length)return null;const c={displaced:Ce,displacedBy:$n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=Ve({impact:c,draggable:r,droppable:s,draggables:o,afterCritical:a}),f=ue(r,s)?s:Yn(s,r,o);return qn({draggable:r,destination:f,newPageBorderBoxCenter:d,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],u=(()=>{const c=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?c:c+1})(),p=Pe(s.axis,r.displaceBy);return Fe({draggable:r,insideDestination:n,destination:s,viewport:i,displacedBy:p,last:Ce,index:u})},Ms=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:s,viewport:i,afterCritical:a})=>{const l=Ns({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:i});if(!l)return null;const u=de(l.descriptor.id,o),p=Ls({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:u,afterCritical:a}),c=Gs({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:o,moveRelativeTo:p,insideDestination:u,viewport:i,afterCritical:a});if(!c)return null;const d=Ve({impact:c,draggable:n,droppable:l,draggables:o,afterCritical:a});return{clientSelection:At({pageBorderBoxCenter:d,draggable:n,viewport:i}),impact:c,scrollJumpRequest:null}},_=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Fs=(e,t)=>{const n=_(e);return n?t[n]:null};var Ws=({state:e,type:t})=>{const n=Fs(e.impact,e.dimensions.droppables),r=!!n,o=e.dimensions.droppables[e.critical.droppable.id],s=n||o,i=s.axis.direction,a=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:c,droppables:d}=e.dimensions;return a?Bs({isMovingForward:l,previousPageBorderBoxCenter:p,draggable:u,destination:s,draggables:c,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Ms({isMovingForward:l,previousPageBorderBoxCenter:p,draggable:u,isOver:s,draggables:c,droppables:d,viewport:e.viewport,afterCritical:e.afterCritical})};function ne(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Jn(e){const t=q(e.top,e.bottom),n=q(e.left,e.right);return function(o){return t(o.y)&&n(o.x)}}function $s(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function _s({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(s=>{const i=s.axis,a=oe(s.axis.line,e.center[i.line],s.page.borderBox.center[i.crossAxisLine]);return{id:s.descriptor.id,distance:Ie(r,a)}}).sort((s,i)=>i.distance-s.distance);return o[0]?o[0].id:null}function Hs({pageBorderBox:e,draggable:t,droppables:n}){const r=_e(n).filter(o=>{if(!o.isEnabled)return!1;const s=o.subject.active;if(!s||!$s(e,s))return!1;if(Jn(s)(e.center))return!0;const i=o.axis,a=s.center[i.crossAxisLine],l=e[i.crossAxisStart],u=e[i.crossAxisEnd],p=q(s[i.crossAxisStart],s[i.crossAxisEnd]),c=p(l),d=p(u);return!c&&!d?!0:c?l<a:u>a});return r.length?r.length===1?r[0].descriptor.id:_s({pageBorderBox:e,draggable:t,candidates:r}):null}const Xn=(e,t)=>K(Re(e,t));var Us=(e,t)=>{const n=e.frame;return n?Xn(t,n.scroll.diff.value):t};function Zn({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Vs({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var zs=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:s,afterCritical:i})=>{const a=n.axis,l=Pe(n.axis,t.displaceBy),u=l.value,p=e[a.start],c=e[a.end],f=Ue(t,r).find(h=>{const x=h.descriptor.id,D=h.page.borderBox.center[a.line],C=ee(x,i),R=Zn({displaced:o,id:x});return C?R?c<=D:p<D-u:R?c<=D+u:p<D})||null,m=Vs({draggable:t,closest:f,inHomeList:ue(t,n)});return Fe({draggable:t,insideDestination:r,destination:n,viewport:s,last:o,displacedBy:l,index:m})};const qs=4;var Ks=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const i=r.axis,a=Pe(r.axis,e.displaceBy),l=a.value,u=t[i.start],p=t[i.end],d=Ue(e,o).find(m=>{const h=m.descriptor.id,x=m.page.borderBox,C=x[i.size]/qs,R=ee(h,s),I=Zn({displaced:n.displaced,id:h});return R?I?p>x[i.start]+C&&p<x[i.end]-C:u>x[i.start]-l+C&&u<x[i.end]-l-C:I?p>x[i.start]+l+C&&p<x[i.end]+l-C:u>x[i.start]+C&&u<x[i.end]-C});return d?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null},Qn=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:s,afterCritical:i})=>{const a=Xn(t.page.borderBox,e),l=Hs({pageBorderBox:a,draggable:t,droppables:r});if(!l)return ls;const u=r[l],p=de(u.descriptor.id,n),c=Us(u,a);return Ks({pageBorderBoxWithDroppableScroll:c,draggable:t,previousImpact:o,destination:u,insideDestination:p,afterCritical:i})||zs({pageBorderBoxWithDroppableScroll:c,draggable:t,destination:u,insideDestination:p,last:o.displaced,viewport:s,afterCritical:i})},wt=(e,t)=>({...e,[t.descriptor.id]:t});const Ys=({previousImpact:e,impact:t,droppables:n})=>{const r=_(e),o=_(t);if(!r||r===o)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const i=ks(s);return wt(n,i)};var Js=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const s=Ys({previousImpact:r,impact:o,droppables:n}),i=_(o);if(!i)return s;const a=n[i];if(ue(e,a)||a.subject.withPlaceholder)return s;const l=Yn(a,e,t);return wt(s,l)},ve=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:s})=>{const i=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,u=$(l,e.initial.client.selection),p={offset:u,selection:l,borderBoxCenter:M(e.initial.client.borderBoxCenter,u)},c={selection:M(p.selection,i.scroll.current),borderBoxCenter:M(p.borderBoxCenter,i.scroll.current),offset:M(p.offset,i.scroll.diff.value)},d={client:p,page:c};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:i,current:d};const f=a.draggables[e.critical.draggable.id],m=o||Qn({pageOffset:c.offset,draggable:f,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),h=Js({draggable:f,impact:m,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:d,dimensions:{draggables:a.draggables,droppables:h},impact:m,viewport:i,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Xs(e,t){return e.map(n=>t[n])}var er=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const s=e.displaced,i=Xs(s.all,n),a=Se({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:s});return{...e,displaced:a}},tr=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:s})=>{const i=Ve({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return At({pageBorderBoxCenter:i,draggable:t,viewport:o})},nr=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&b(!1);const r=e.impact,o=n||e.viewport,s=t||e.dimensions,{draggables:i,droppables:a}=s,l=i[e.critical.draggable.id],u=_(r);u||b(!1);const p=a[u],c=er({impact:r,viewport:o,destination:p,draggables:i}),d=tr({impact:c,draggable:l,droppable:p,draggables:i,viewport:o,afterCritical:e.afterCritical});return ve({impact:c,clientSelection:d,state:e,dimensions:s,viewport:o})},Zs=e=>({index:e.index,droppableId:e.droppableId}),rr=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=Pe(t.axis,e.displaceBy),s=de(t.descriptor.id,n),i=s.indexOf(e);i===-1&&b(!1);const a=s.slice(i+1),l=a.reduce((d,f)=>(d[f.descriptor.id]=!0,d),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:l};return{impact:{displaced:Se({afterDragging:a,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:Zs(e.descriptor)}},afterCritical:u}},Qs=(e,t)=>({draggables:e.draggables,droppables:wt(e.droppables,t)}),ei=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=je(e.client,t),o=ke(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},ti=e=>{const t=e.frame;return t||b(!1),t},ni=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(o=>{const s=o.descriptor.droppableId,i=t[s],l=ti(i).scroll.diff.value,u=M(r,l);return ei({draggable:o,offset:u,initialWindowScroll:n.scroll.initial})})},ri=({state:e,published:t})=>{const n=t.modified.map(D=>{const C=e.dimensions.droppables[D.droppableId];return yt(C,D.scroll)}),r={...e.dimensions.droppables,...Fn(n)},o=Wn(ni({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...o};t.removals.forEach(D=>{delete s[D]});const i={droppables:r,draggables:s},a=_(e.impact),l=a?i.droppables[a]:null,u=i.draggables[e.critical.draggable.id],p=i.droppables[e.critical.droppable.id],{impact:c,afterCritical:d}=rr({draggable:u,home:p,draggables:s,viewport:e.viewport}),f=l&&l.isCombineEnabled?e.impact:c,m=Qn({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:f,viewport:e.viewport,afterCritical:d}),h={...e,phase:"DRAGGING",impact:m,onLiftImpact:c,dimensions:i,afterCritical:d,forceShouldAnimate:!1};return e.phase==="COLLECTING"?h:{...h,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const ct=e=>e.movementMode==="SNAP",et=(e,t,n)=>{const r=Qs(e.dimensions,t);return!ct(e)||n?ve({state:e,dimensions:r}):nr({state:e,dimensions:r})};function tt(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const nn={phase:"IDLE",completed:null,shouldFlush:!1};var oi=(e=nn,t)=>{if(t.type==="FLUSH")return{...nn,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&b(!1);const{critical:n,clientSelection:r,viewport:o,dimensions:s,movementMode:i}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:G},p={client:u,page:{selection:M(u.selection,o.scroll.initial),borderBoxCenter:M(u.selection,o.scroll.initial),offset:M(u.selection,o.scroll.diff.value)}},c=_e(s.droppables).every(h=>!h.isFixedOnPage),{impact:d,afterCritical:f}=rr({draggable:a,home:l,draggables:s.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:s,initial:p,current:p,isWindowScrollAllowed:c,impact:d,afterCritical:f,onLiftImpact:d,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&b(!1),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||b(!1),ri({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ne(e)||b(!1);const{client:n}=t.payload;return Z(n,e.current.client.selection)?e:ve({state:e,clientSelection:n,impact:ct(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return tt(e);ne(e)||b(!1);const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const s=yt(o,r);return et(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ne(e)||b(!1);const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||b(!1),o.isEnabled===r&&b(!1);const s={...o,isEnabled:r};return et(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ne(e)||b(!1);const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||b(!1),o.isCombineEnabled===r&&b(!1);const s={...o,isCombineEnabled:r};return et(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ne(e)||b(!1),e.isWindowScrollAllowed||b(!1);const n=t.payload.newScroll;if(Z(e.viewport.scroll.current,n))return tt(e);const r=zn(e.viewport,n);return ct(e)?nr({state:e,viewport:r}):ve({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ne(e))return e;const n=t.payload.maxScroll;if(Z(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&b(!1);const n=Ws({state:e,type:t.type});return n?ve({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&b(!1),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||b(!1),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};const si=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ii=e=>({type:"LIFT",payload:e}),ai=e=>({type:"INITIAL_PUBLISH",payload:e}),li=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),ci=()=>({type:"COLLECTION_STARTING",payload:null}),di=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),ui=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),pi=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),or=e=>({type:"MOVE",payload:e}),fi=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),gi=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),mi=()=>({type:"MOVE_UP",payload:null}),hi=()=>({type:"MOVE_DOWN",payload:null}),bi=()=>({type:"MOVE_RIGHT",payload:null}),xi=()=>({type:"MOVE_LEFT",payload:null}),Et=()=>({type:"FLUSH",payload:null}),vi=e=>({type:"DROP_ANIMATE",payload:e}),Rt=e=>({type:"DROP_COMPLETE",payload:e}),sr=e=>({type:"DROP",payload:e}),yi=e=>({type:"DROP_PENDING",payload:e}),ir=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Di=e=>({getState:t,dispatch:n})=>r=>o=>{if(o.type!=="LIFT"){r(o);return}const{id:s,clientSelection:i,movementMode:a}=o.payload,l=t();l.phase==="DROP_ANIMATING"&&n(Rt({completed:l.completed})),t().phase!=="IDLE"&&b(!1),n(Et()),n(si({draggableId:s,movementMode:a}));const p={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:c,dimensions:d,viewport:f}=e.startPublishing(p);n(ai({critical:c,dimensions:d,clientSelection:i,movementMode:a,viewport:f}))},Ii=e=>()=>t=>n=>{n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)};const Pt={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ae={opacity:{drop:0,combining:.7},scale:{drop:.75}},ar={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},te=`${ar.outOfTheWay}s ${Pt.outOfTheWay}`,ye={fluid:`opacity ${te}`,snap:`transform ${te}, opacity ${te}`,drop:e=>{const t=`${e}s ${Pt.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${te}`,placeholder:`height ${te}, width ${te}, margin ${te}`},rn=e=>Z(e,G)?void 0:`translate(${e.x}px, ${e.y}px)`,dt={moveTo:rn,drop:(e,t)=>{const n=rn(e);if(n)return t?`${n} scale(${Ae.scale.drop})`:n}},{minDropTime:ut,maxDropTime:lr}=ar,Ci=lr-ut,on=1500,Si=.6;var Ai=({current:e,destination:t,reason:n})=>{const r=Ie(e,t);if(r<=0)return ut;if(r>=on)return lr;const o=r/on,s=ut+Ci*o,i=n==="CANCEL"?s*Si:s;return Number(i.toFixed(2))},wi=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:s,droppables:i}=n,a=_(e),l=a?i[a]:null,u=i[t.descriptor.droppableId],p=tr({impact:e,draggable:t,draggables:s,afterCritical:o,droppable:l||u,viewport:r});return $(p,t.client.borderBox.center)},Ei=({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:er({draggables:e,impact:s,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ce},didDropInsideDroppable:!0};const Ri=({getState:e,dispatch:t})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const o=e(),s=r.payload.reason;if(o.phase==="COLLECTING"){t(yi({reason:s}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&b(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||b(!1);const a=o.critical,l=o.dimensions,u=l.draggables[o.critical.draggable.id],{impact:p,didDropInsideDroppable:c}=Ei({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=c?Dt(p):null,f=c?He(p):null,m={index:a.draggable.index,droppableId:a.droppable.id},h={draggableId:u.descriptor.id,type:u.descriptor.type,source:m,reason:s,mode:o.movementMode,destination:d,combine:f},x=wi({impact:p,draggable:u,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),D={critical:o.critical,afterCritical:o.afterCritical,result:h,impact:p};if(!(!Z(o.current.client.offset,x)||!!h.combine)){t(Rt({completed:D}));return}const R=Ai({current:o.current.client.offset,destination:x,reason:s});t(vi({newHomeClientOffset:x,dropDuration:R,completed:D}))};var Pi=Ri,cr=()=>({x:window.pageXOffset,y:window.pageYOffset});function Oi(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Bi({onWindowScroll:e}){function t(){e(cr())}const n=De(t),r=Oi(n);let o=X;function s(){return o!==X}function i(){s()&&b(!1),o=z(window,[r])}function a(){s()||b(!1),n.cancel(),o(),o=X}return{start:i,stop:a,isActive:s}}const Ni=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",Ti=e=>{const t=Bi({onWindowScroll:n=>{e.dispatch(fi({newScroll:n}))}});return n=>r=>{!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Ni(r)&&t.stop(),n(r)}};var Li=Ti,ji=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return o.wasCalled=()=>t,o},ki=()=>{const e=[],t=o=>{const s=e.findIndex(a=>a.timerId===o);s===-1&&b(!1);const[i]=e.splice(s,1);i.callback()};return{add:o=>{const s=setTimeout(()=>t(s)),i={timerId:s,callback:o};e.push(i)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const Gi=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Mi=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Fi=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},ge=(e,t)=>{t()},Oe=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function nt(e,t,n,r){if(!e){n(r(t));return}const o=ji(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var Wi=(e,t)=>{const n=ki();let r=null;const o=(c,d)=>{r&&b(!1),ge("onBeforeCapture",()=>{const f=e().onBeforeCapture;f&&f({draggableId:c,mode:d})})},s=(c,d)=>{r&&b(!1),ge("onBeforeDragStart",()=>{const f=e().onBeforeDragStart;f&&f(Oe(c,d))})},i=(c,d)=>{r&&b(!1);const f=Oe(c,d);r={mode:d,lastCritical:c,lastLocation:f.source,lastCombine:null},n.add(()=>{ge("onDragStart",()=>nt(e().onDragStart,f,t,Te.onDragStart))})},a=(c,d)=>{const f=Dt(d),m=He(d);r||b(!1);const h=!Fi(c,r.lastCritical);h&&(r.lastCritical=c);const x=!Gi(r.lastLocation,f);x&&(r.lastLocation=f);const D=!Mi(r.lastCombine,m);if(D&&(r.lastCombine=m),!h&&!x&&!D)return;const C={...Oe(c,r.mode),combine:m,destination:f};n.add(()=>{ge("onDragUpdate",()=>nt(e().onDragUpdate,C,t,Te.onDragUpdate))})},l=()=>{r||b(!1),n.flush()},u=c=>{r||b(!1),r=null,ge("onDragEnd",()=>nt(e().onDragEnd,c,t,Te.onDragEnd))};return{beforeCapture:o,beforeStart:s,start:i,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const c={...Oe(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(c)}}},$i=(e,t)=>{const n=Wi(e,t);return r=>o=>s=>{if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),o(s),n.start(a,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){const a=s.payload.completed.result;n.flush(),o(s),n.drop(a);return}if(o(s),s.type==="FLUSH"){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const _i=e=>t=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&b(!1),e.dispatch(Rt({completed:r.completed}))};var Hi=_i;const Ui=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o=>s=>{if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),o(s),s.type!=="DROP_ANIMATE")return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(ir())}};n=requestAnimationFrame(()=>{n=null,t=z(window,[i])})}};var Vi=Ui,zi=e=>()=>t=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)},qi=e=>{let t=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Ki=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var Yi=e=>t=>n=>r=>{if(Ki(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const o=t.getState();o.phase!=="DRAGGING"&&b(!1),e.start(o);return}n(r),e.scroll(t.getState())};const Ji=e=>t=>n=>{if(t(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(sr({reason:r.reason})))};var Xi=Ji;const Zi=Qr;var Qi=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:s})=>Xr(oi,Zi(Zr(Ii(n),zi(e),Di(e),Pi,Hi,Vi,Xi,Yi(s),Li,qi(t),$i(r,o))));const rt=()=>({additions:{},removals:{},modified:{}});function ea({registry:e,callbacks:t}){let n=rt(),r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:u,modified:p}=n,c=Object.keys(l).map(m=>e.draggable.getById(m).getDimension(G)).sort((m,h)=>m.descriptor.index-h.descriptor.index),d=Object.keys(p).map(m=>{const x=e.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:x}}),f={additions:c,removals:Object.keys(u),modified:d};n=rt(),t.publish(f)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],o()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=rt())}}}var dr=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=$({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},ur=()=>{const e=document.documentElement;return e||b(!1),e},pr=()=>{const e=ur();return dr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},ta=()=>{const e=cr(),t=pr(),n=e.y,r=e.x,o=ur(),s=o.clientWidth,i=o.clientHeight,a=r+s,l=n+i;return{frame:K({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:G,displacement:G}}}},na=({critical:e,scrollOptions:t,registry:n})=>{const r=ta(),o=r.scroll.current,s=e.droppable,i=n.droppable.getAllByType(s.type).map(p=>p.callbacks.getDimensionAndWatchScroll(o,t)),a=n.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(o));return{dimensions:{draggables:Wn(a),droppables:Fn(i)},critical:e,viewport:r}};function sn(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var ra=(e,t)=>{let n=null;const r=ea({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(d,f)=>{e.droppable.exists(d)||b(!1),n&&t.updateDroppableIsEnabled({id:d,isEnabled:f})},s=(d,f)=>{n&&(e.droppable.exists(d)||b(!1),t.updateDroppableIsCombineEnabled({id:d,isCombineEnabled:f}))},i=(d,f)=>{n&&(e.droppable.exists(d)||b(!1),t.updateDroppableScroll({id:d,newScroll:f}))},a=(d,f)=>{n&&e.droppable.getById(d).callbacks.scroll(f)},l=()=>{if(!n)return;r.stop();const d=n.critical.droppable;e.droppable.getAllByType(d.type).forEach(f=>f.callbacks.dragStopped()),n.unsubscribe(),n=null},u=d=>{n||b(!1);const f=n.critical.draggable;d.type==="ADDITION"&&sn(e,f,d.value)&&r.add(d.value),d.type==="REMOVAL"&&sn(e,f,d.value)&&r.remove(d.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:i,startPublishing:d=>{n&&b(!1);const f=e.draggable.getById(d.draggableId),m=e.droppable.getById(f.descriptor.droppableId),h={draggable:f.descriptor,droppable:m.descriptor},x=e.subscribe(u);return n={critical:h,unsubscribe:x},na({critical:h,registry:e,scrollOptions:d.scrollOptions})},stopPublishing:l}},fr=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",oa=e=>{window.scrollBy(e.x,e.y)};const sa=k(e=>_e(e).filter(t=>!(!t.isEnabled||!t.frame))),ia=(e,t)=>sa(t).find(r=>(r.frame||b(!1),Jn(r.frame.pageMarginBox)(e)))||null;var aa=({center:e,destination:t,droppables:n})=>{if(t){const o=n[t];return o.frame?o:null}return ia(e,n)};const we={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var la=(e,t,n=()=>we)=>{const r=n(),o=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:s}},gr=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Ot=1,ca=(e,t,n=()=>we)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Ot;const s=1-gr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(s);return Math.ceil(i)},da=(e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,i=t,a=s,u=Date.now()-i;if(u>=s)return e;if(u<o)return Ot;const p=gr({startOfRange:o,endOfRange:a,current:u}),c=e*r.ease(p);return Math.ceil(c)},an=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const s=ca(e,t,o);return s===0?0:r?Math.max(da(s,n,o),Ot):s},ln=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=la(e,r,s);return t[r.end]<t[r.start]?an({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s}):-1*an({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})},ua=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return!o&&!r?n:o&&r?null:{x:o?0:n.x,y:r?0:n.y}};const pa=Mn(e=>e===0?0:e);var mr=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=ln({container:t,distanceToEdges:i,dragStartTime:e,axis:It,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),l=ln({container:t,distanceToEdges:i,dragStartTime:e,axis:Hn,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),u=pa({x:l,y:a});if(Z(u,G))return null;const p=ua({container:t,subject:n,proposedScroll:u});return p?Z(p,G)?null:p:null};const fa=Mn(e=>e===0?0:e>0?1:-1),Bt=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const o=M(t,r),s={x:e(o.x,n.x),y:e(o.y,n.y)};return Z(s,G)?null:s}})(),hr=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=fa(n),s=Bt({max:r,current:t,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},Nt=(e,t)=>hr({current:e.scroll.current,max:e.scroll.max,change:t}),ga=(e,t)=>{if(!Nt(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Bt({current:r,max:n,change:t})},Tt=(e,t)=>{const n=e.frame;return n?hr({current:n.scroll.current,max:n.scroll.max,change:t}):!1},ma=(e,t)=>{const n=e.frame;return!n||!Tt(e,t)?null:Bt({current:n.scroll.current,max:n.scroll.max,change:t})};var ha=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=mr({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return i&&Nt(e,i)?i:null},ba=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=e.frame;if(!i)return null;const a=mr({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return a&&Tt(e,a)?a:null},cn=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:s})=>{const i=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const c=e.viewport,d=ha({dragStartTime:t,viewport:c,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(d){r(d);return}}const u=aa({center:i,destination:_(e.impact),droppables:e.dimensions.droppables});if(!u)return;const p=ba({dragStartTime:t,droppable:u,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:s});p&&o(u.descriptor.id,p)},xa=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>we})=>{const r=De(e),o=De(t);let s=null;const i=u=>{s||b(!1);const{shouldUseTimeDampening:p,dragStartTime:c}=s;cn({state:u,scrollWindow:r,scrollDroppable:o,dragStartTime:c,shouldUseTimeDampening:p,getAutoScrollerOptions:n})};return{start:u=>{s&&b(!1);const p=Date.now();let c=!1;const d=()=>{c=!0};cn({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d,getAutoScrollerOptions:n}),s={dragStartTime:p,shouldUseTimeDampening:c},c&&i(u)},stop:()=>{s&&(r.cancel(),o.cancel(),s=null)},scroll:i}},va=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const u=M(a.current.client.selection,l);e({client:u})},o=(a,l)=>{if(!Tt(a,l))return l;const u=ma(a,l);if(!u)return t(a.descriptor.id,l),null;const p=$(l,u);return t(a.descriptor.id,p),$(l,p)},s=(a,l,u)=>{if(!a||!Nt(l,u))return u;const p=ga(l,u);if(!p)return n(u),null;const c=$(u,p);return n(c),$(u,c)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=_(a.impact);u||b(!1);const p=o(a.dimensions.droppables[u],l);if(!p)return;const c=a.viewport,d=s(a.isWindowScrollAllowed,c,p);d&&r(a,d)}},ya=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=xa({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=va({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){o.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:o.start,stop:o.stop}};const ie="data-rfd",ae=(()=>{const e=`${ie}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),pt=(()=>{const e=`${ie}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Da=(()=>{const e=`${ie}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),dn={contextId:`${ie}-scroll-container-context-id`},Ia=e=>t=>`[${t}="${e}"]`,me=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Ca="pointer-events: none;";var Sa=e=>{const t=Ia(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ae.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Ca,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${ye.outOfTheWay};
    `;return{selector:t(pt.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),o={selector:t(Da.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:me(i,"always"),resting:me(i,"resting"),dragging:me(i,"dragging"),dropAnimating:me(i,"dropAnimating"),userCancel:me(i,"userCancel")}};const Aa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;var H=Aa;const ot=()=>{const e=document.querySelector("head");return e||b(!1),e},un=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function wa(e,t){const n=w(()=>Sa(e),[e]),r=v.useRef(null),o=v.useRef(null),s=y(k(c=>{const d=o.current;d||b(!1),d.textContent=c}),[]),i=y(c=>{const d=r.current;d||b(!1),d.textContent=c},[]);H(()=>{!r.current&&!o.current||b(!1);const c=un(t),d=un(t);return r.current=c,o.current=d,c.setAttribute(`${ie}-always`,e),d.setAttribute(`${ie}-dynamic`,e),ot().appendChild(c),ot().appendChild(d),i(n.always),s(n.resting),()=>{const f=m=>{const h=m.current;h||b(!1),ot().removeChild(h),m.current=null};f(r),f(o)}},[t,i,s,n.always,n.resting,e]);const a=y(()=>s(n.dragging),[s,n.dragging]),l=y(c=>{if(c==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=y(()=>{o.current&&s(n.resting)},[s,n.resting]);return w(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function br(e,t){return Array.from(e.querySelectorAll(t))}var xr=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ze(e){return e instanceof xr(e).HTMLElement}function Ea(e,t){const n=`[${ae.contextId}="${e}"]`,r=br(document,n);if(!r.length)return null;const o=r.find(s=>s.getAttribute(ae.draggableId)===t);return!o||!ze(o)?null:o}function Ra(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),o=v.useRef(!1),s=y(function(d,f){const m={id:d,focus:f};return t.current[d]=m,function(){const x=t.current;x[d]!==m&&delete x[d]}},[]),i=y(function(d){const f=Ea(e,d);f&&f!==document.activeElement&&f.focus()},[e]),a=y(function(d,f){n.current===d&&(n.current=f)},[]),l=y(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const d=n.current;d&&i(d)}))},[i]),u=y(function(d){n.current=null;const f=document.activeElement;f&&f.getAttribute(ae.draggableId)===d&&(n.current=d)},[]);return H(()=>(o.current=!0,function(){o.current=!1;const d=r.current;d&&cancelAnimationFrame(d)}),[]),w(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,u,l,a])}function Pa(){const e={draggables:{},droppables:{}},t=[];function n(c){return t.push(c),function(){const f=t.indexOf(c);f!==-1&&t.splice(f,1)}}function r(c){t.length&&t.forEach(d=>d(c))}function o(c){return e.draggables[c]||null}function s(c){const d=o(c);return d||b(!1),d}const i={register:c=>{e.draggables[c.descriptor.id]=c,r({type:"ADDITION",value:c})},update:(c,d)=>{const f=e.draggables[d.descriptor.id];f&&f.uniqueId===c.uniqueId&&(delete e.draggables[d.descriptor.id],e.draggables[c.descriptor.id]=c)},unregister:c=>{const d=c.descriptor.id,f=o(d);f&&c.uniqueId===f.uniqueId&&(delete e.draggables[d],e.droppables[c.descriptor.droppableId]&&r({type:"REMOVAL",value:c}))},getById:s,findById:o,exists:c=>!!o(c),getAllByType:c=>Object.values(e.draggables).filter(d=>d.descriptor.type===c)};function a(c){return e.droppables[c]||null}function l(c){const d=a(c);return d||b(!1),d}const u={register:c=>{e.droppables[c.descriptor.id]=c},unregister:c=>{const d=a(c.descriptor.id);d&&c.uniqueId===d.uniqueId&&delete e.droppables[c.descriptor.id]},getById:l,findById:a,exists:c=>!!a(c),getAllByType:c=>Object.values(e.droppables).filter(d=>d.descriptor.type===c)};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:n,clean:p}}function Oa(){const e=w(Pa,[]);return v.useEffect(()=>function(){P.version.startsWith("16")||P.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var Lt=P.createContext(null),We=()=>{const e=document.body;return e||b(!1),e};const Ba={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Na=Ba;const Ta=e=>`rfd-announcement-${e}`;function La(e){const t=w(()=>Ta(e),[e]),n=v.useRef(null);return v.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),Cn(s.style,Na),We().appendChild(s),function(){setTimeout(function(){const l=We();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]),y(o=>{const s=n.current;if(s){s.textContent=o;return}},[])}let ja=0;const vr={separator:"::"};function ka(e,t=vr){return w(()=>`${e}${t.separator}${ja++}`,[t.separator,e])}function Ga(e,t=vr){const n=P.useId();return w(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var jt="useId"in P?Ga:ka;function Ma({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Fa({contextId:e,text:t}){const n=jt("hidden-text",{separator:"-"}),r=w(()=>Ma({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",We().appendChild(s),function(){const a=We();a.contains(s)&&a.removeChild(s)}},[r,t]),r}var qe=P.createContext(null);function yr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function Wa(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&b(!1);const a={abandon:i};return e=a,a}function o(){e||b(!1),e=null}function s(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:n,claim:r,release:o,tryAbandon:s}}function Ee(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const $a=9,_a=13,kt=27,Dr=32,Ha=33,Ua=34,Va=35,za=36,qa=37,Ka=38,Ya=39,Ja=40,Xa={[_a]:!0,[$a]:!0};var Ir=e=>{Xa[e.keyCode]&&e.preventDefault()};const Za=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})();var Ke=Za;const Cr=0,pn=5;function Qa(e,t){return Math.abs(t.x-e.x)>=pn||Math.abs(t.y-e.y)>=pn}const fn={type:"IDLE"};function el({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:s,clientX:i,clientY:a}=o;if(s!==Cr)return;const l={x:i,y:a},u=n();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&b(!1);const p=u.point;if(!Qa(p,l))return;o.preventDefault();const c=u.actions.fluidLift(l);r({type:"DRAGGING",actions:c})}},{eventName:"mouseup",fn:o=>{const s=n();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){e();return}if(o.keyCode===kt){o.preventDefault(),e();return}Ir(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const s=n();if(s.type==="IDLE"&&b(!1),s.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Ke,fn:e}]}function tl(e){const t=v.useRef(fn),n=v.useRef(X),r=w(()=>({eventName:"mousedown",fn:function(c){if(c.defaultPrevented||c.button!==Cr||c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)return;const d=e.findClosestDraggableId(c);if(!d)return;const f=e.tryGetLock(d,i,{sourceEvent:c});if(!f)return;c.preventDefault();const m={x:c.clientX,y:c.clientY};n.current(),u(f,m)}}),[e]),o=w(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const c=e.findClosestDraggableId(p);if(!c)return;const d=e.findOptionsForDraggable(c);d&&(d.shouldRespectForcePress||e.canGetLock(c)&&p.preventDefault())}}),[e]),s=y(function(){const c={passive:!1,capture:!0};n.current=z(window,[o,r],c)},[o,r]),i=y(()=>{t.current.type!=="IDLE"&&(t.current=fn,n.current(),s())},[s]),a=y(()=>{const p=t.current;i(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[i]),l=y(function(){const c={capture:!0,passive:!1},d=el({cancel:a,completed:i,getPhase:()=>t.current,setPhase:f=>{t.current=f}});n.current=z(window,d,c)},[a,i]),u=y(function(c,d){t.current.type!=="IDLE"&&b(!1),t.current={type:"PENDING",point:d,actions:c},l()},[l]);H(function(){return s(),function(){n.current()}},[s])}function nl(){}const rl={[Ua]:!0,[Ha]:!0,[za]:!0,[Va]:!0};function ol(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===kt){o.preventDefault(),n();return}if(o.keyCode===Dr){o.preventDefault(),r();return}if(o.keyCode===Ja){o.preventDefault(),e.moveDown();return}if(o.keyCode===Ka){o.preventDefault(),e.moveUp();return}if(o.keyCode===Ya){o.preventDefault(),e.moveRight();return}if(o.keyCode===qa){o.preventDefault(),e.moveLeft();return}if(rl[o.keyCode]){o.preventDefault();return}Ir(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ke,fn:n}]}function sl(e){const t=v.useRef(nl),n=w(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Dr)return;const i=e.findClosestDraggableId(s);if(!i)return;const a=e.tryGetLock(i,p,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const u=a.snapLift();t.current();function p(){l||b(!1),l=!1,t.current(),r()}t.current=z(window,ol(u,p),{capture:!0,passive:!1})}}),[e]),r=y(function(){const s={passive:!1,capture:!0};t.current=z(window,[n],s)},[n]);H(function(){return r(),function(){t.current()}},[r])}const st={type:"IDLE"},il=120,al=.15;function ll({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===kt&&n.preventDefault(),e()}},{eventName:Ke,fn:e}]}function cl({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:s,clientY:i}=r.touches[0],a={x:s,y:i};r.preventDefault(),o.actions.move(a)}},{eventName:"touchend",fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=n();o.type==="IDLE"&&b(!1);const s=r.touches[0];if(!s||!(s.force>=al))return;const a=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){a&&e();return}if(a){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Ke,fn:e}]}function dl(e){const t=v.useRef(st),n=v.useRef(X),r=y(function(){return t.current},[]),o=y(function(f){t.current=f},[]),s=w(()=>({eventName:"touchstart",fn:function(f){if(f.defaultPrevented)return;const m=e.findClosestDraggableId(f);if(!m)return;const h=e.tryGetLock(m,a,{sourceEvent:f});if(!h)return;const x=f.touches[0],{clientX:D,clientY:C}=x,R={x:D,y:C};n.current(),c(h,R)}}),[e]),i=y(function(){const f={capture:!0,passive:!1};n.current=z(window,[s],f)},[s]),a=y(()=>{const d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),o(st),n.current(),i())},[i,o]),l=y(()=>{const d=t.current;a(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[a]),u=y(function(){const f={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:r},h=z(window,cl(m),f),x=z(window,ll(m),f);n.current=function(){h(),x()}},[l,r,a]),p=y(function(){const f=r();f.type!=="PENDING"&&b(!1);const m=f.actions.fluidLift(f.point);o({type:"DRAGGING",actions:m,hasMoved:!1})},[r,o]),c=y(function(f,m){r().type!=="IDLE"&&b(!1);const h=setTimeout(p,il);o({type:"PENDING",point:m,actions:f,longPressTimerId:h}),u()},[u,r,o,p]);H(function(){return i(),function(){n.current();const m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),o(st))}},[r,i,o]),H(function(){return z(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const ul=["input","button","textarea","select","option","optgroup","video","audio"];function Sr(e,t){if(t==null)return!1;if(ul.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Sr(e,t.parentElement)}function pl(e,t){const n=t.target;return ze(n)?Sr(e,n):!1}var fl=e=>K(e.getBoundingClientRect()).center;function gl(e){return e instanceof xr(e).Element}const ml=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Ar(e,t){return e==null?null:e[ml](t)?e:Ar(e.parentElement,t)}function hl(e,t){return e.closest?e.closest(t):Ar(e,t)}function bl(e){return`[${ae.contextId}="${e}"]`}function xl(e,t){const n=t.target;if(!gl(n))return null;const r=bl(e),o=hl(n,r);return!o||!ze(o)?null:o}function vl(e,t){const n=xl(e,t);return n?n.getAttribute(ae.draggableId):null}function yl(e,t){const n=`[${pt.contextId}="${e}"]`,o=br(document,n).find(s=>s.getAttribute(pt.id)===t);return!o||!ze(o)?null:o}function Dl(e){e.preventDefault()}function Be({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function wr({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!(!o||!o.options.isEnabled||!fr(t.getState(),r))}function Il({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:s,sourceEvent:i}){if(!wr({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const l=r.draggable.getById(o),u=yl(t,l.descriptor.id);if(!u||i&&!l.options.canDragInteractiveElements&&pl(u,i))return null;const p=e.claim(s||X);let c="PRE_DRAG";function d(){return l.options.shouldRespectForcePress}function f(){return e.isActive(p)}function m(A,S){Be({expected:A,phase:c,isLockActive:f,shouldWarn:!0})&&n.dispatch(S())}const h=m.bind(null,"DRAGGING");function x(A){function S(){e.release(),c="COMPLETED"}c!=="PRE_DRAG"&&(S(),b(!1)),n.dispatch(ii(A.liftActionArgs)),c="DRAGGING";function N(T,Y={shouldBlockNextClick:!1}){if(A.cleanup(),Y.shouldBlockNextClick){const j=z(window,[{eventName:"click",fn:Dl,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}S(),n.dispatch(sr({reason:T}))}return{isActive:()=>Be({expected:"DRAGGING",phase:c,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:d,drop:T=>N("DROP",T),cancel:T=>N("CANCEL",T),...A.actions}}function D(A){const S=De(T=>{h(()=>or({client:T}))});return{...x({liftActionArgs:{id:o,clientSelection:A,movementMode:"FLUID"},cleanup:()=>S.cancel(),actions:{move:S}}),move:S}}function C(){const A={moveUp:()=>h(mi),moveRight:()=>h(bi),moveDown:()=>h(hi),moveLeft:()=>h(xi)};return x({liftActionArgs:{id:o,clientSelection:fl(u),movementMode:"SNAP"},cleanup:X,actions:A})}function R(){Be({expected:"PRE_DRAG",phase:c,isLockActive:f,shouldWarn:!0})&&e.release()}return{isActive:()=>Be({expected:"PRE_DRAG",phase:c,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:D,snapLift:C,abort:R}}const Cl=[tl,sl,dl];function Sl({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const s=[...o?Cl:[],...r||[]],i=v.useState(()=>Wa())[0],a=y(function(x,D){Ee(x)&&!Ee(D)&&i.tryAbandon()},[i]);H(function(){let x=t.getState();return t.subscribe(()=>{const C=t.getState();a(x,C),x=C})},[i,t,a]),H(()=>i.tryAbandon,[i.tryAbandon]);const l=y(h=>wr({lockAPI:i,registry:n,store:t,draggableId:h}),[i,n,t]),u=y((h,x,D)=>Il({lockAPI:i,registry:n,contextId:e,store:t,draggableId:h,forceSensorStop:x||null,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null}),[e,i,n,t]),p=y(h=>vl(e,h),[e]),c=y(h=>{const x=n.draggable.findById(h);return x?x.options:null},[n.draggable]),d=y(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Et()))},[i,t]),f=y(()=>i.isClaimed(),[i]),m=w(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:p,findOptionsForDraggable:c,tryReleaseLock:d,isLockClaimed:f}),[l,u,p,c,d,f]);for(let h=0;h<s.length;h++)s[h](m)}const Al=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};P.version.startsWith("16")||P.version.startsWith("17")?n():Sn.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),wl=e=>({...we,...e.autoScrollerOptions,durationDampening:{...we.durationDampening,...e.autoScrollerOptions}});function he(e){return e.current||b(!1),e.current}function El(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:s}=e,i=v.useRef(null),a=yr(e),l=y(()=>Al(a.current),[a]),u=y(()=>wl(a.current),[a]),p=La(t),c=Fa({contextId:t,text:s}),d=wa(t,o),f=y(j=>{he(i).dispatch(j)},[]),m=w(()=>Wt({publishWhileDragging:li,updateDroppableScroll:di,updateDroppableIsEnabled:ui,updateDroppableIsCombineEnabled:pi,collectionStarting:ci},f),[f]),h=Oa(),x=w(()=>ra(h,m),[h,m]),D=w(()=>ya({scrollWindow:oa,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:u,...Wt({move:or},f)}),[x.scrollDroppable,f,u]),C=Ra(t),R=w(()=>Qi({announce:p,autoScroller:D,dimensionMarshal:x,focusMarshal:C,getResponders:l,styleMarshal:d}),[p,D,x,C,l,d]);i.current=R;const I=y(()=>{const j=he(i);j.getState().phase!=="IDLE"&&j.dispatch(Et())},[]),A=y(()=>{const j=he(i).getState();return j.phase==="DROP_ANIMATING"?!0:j.phase==="IDLE"?!1:j.isDragging},[]),S=w(()=>({isDragging:A,tryAbort:I}),[A,I]);n(S);const N=y(j=>fr(he(i).getState(),j),[]),T=y(()=>ne(he(i).getState()),[]),Y=w(()=>({marshal:x,focus:C,contextId:t,canLift:N,isMovementAllowed:T,dragHandleUsageInstructionsId:c,registry:h}),[t,x,c,C,N,T,h]);return Sl({contextId:t,store:R,registry:h,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>I,[I]),P.createElement(qe.Provider,{value:Y},P.createElement(Yr,{context:Lt,store:R},e.children))}let Rl=0;function Pl(){return w(()=>`${Rl++}`,[])}function Ol(){return P.useId()}var Bl="useId"in P?Ol:Pl;function Nl(e){const t=Bl(),n=e.dragHandleUsageInstructions||Te.dragHandleUsageInstructions;return P.createElement(Ko,null,r=>P.createElement(El,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const gn={dragging:5e3,dropAnimating:4500},Tl=(e,t)=>t?ye.drop(t.duration):e?ye.snap:ye.fluid,Ll=(e,t)=>{if(e)return t?Ae.opacity.drop:Ae.opacity.combining},jl=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function kl(e){const n=e.dimension.client,{offset:r,combineWith:o,dropping:s}=e,i=!!o,a=jl(e),l=!!s,u=l?dt.drop(r,i):dt.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Tl(a,s),transform:u,opacity:Ll(i,l),zIndex:l?gn.dropAnimating:gn.dragging,pointerEvents:"none"}}function Gl(e){return{transform:dt.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Ml(e){return e.type==="DRAGGING"?kl(e):Gl(e)}function Fl(e,t,n=G){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),s=Tn(o,r),i=ke(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:i}}function Wl(e){const t=jt("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:a}=e,l=w(()=>({canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:a}),[s,a,i]),u=y(f=>{const m=o();return m||b(!1),Fl(n,m,f)},[n,o]),p=w(()=>({uniqueId:t,descriptor:n,options:l,getDimension:u}),[n,u,l,t]),c=v.useRef(p),d=v.useRef(!0);H(()=>(r.draggable.register(c.current),()=>r.draggable.unregister(c.current)),[r.draggable]),H(()=>{if(d.current){d.current=!1;return}const f=c.current;c.current=p,r.draggable.update(p,f)},[p,r.draggable])}var Gt=P.createContext(null);function $e(e){const t=v.useContext(e);return t||b(!1),t}function $l(e){e.preventDefault()}const _l=e=>{const t=v.useRef(null),n=y((S=null)=>{t.current=S},[]),r=y(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:s,registry:i}=$e(qe),{type:a,droppableId:l}=$e(Gt),u=w(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:p,draggableId:c,isEnabled:d,shouldRespectForcePress:f,canDragInteractiveElements:m,isClone:h,mapped:x,dropAnimationFinished:D}=e;if(!h){const S=w(()=>({descriptor:u,registry:i,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:f,isEnabled:d}),[u,i,r,m,f,d]);Wl(S)}const C=w(()=>d?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":c,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:$l}:null,[o,s,c,d]),R=y(S=>{x.type==="DRAGGING"&&x.dropping&&S.propertyName==="transform"&&(P.version.startsWith("16")||P.version.startsWith("17")?D():Sn.flushSync(D))},[D,x]),I=w(()=>{const S=Ml(x),N=x.type==="DRAGGING"&&x.dropping?R:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":c,style:S,onTransitionEnd:N},dragHandleProps:C}},[o,C,c,x,R,n]),A=w(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return P.createElement(P.Fragment,null,p(I,x.snapshot,A))};var Hl=_l,Er=(e,t)=>e===t,Rr=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Ul=e=>e.combine?e.combine.draggableId:null,Vl=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function zl(){const e=k((o,s)=>({x:o,y:s})),t=k((o,s,i=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:o,draggingOver:i,combineWith:a,combineTargetFor:null})),n=k((o,s,i,a,l=null,u=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:o,dimension:i,forceShouldAnimate:p,snapshot:t(s,a,l,u,null)}}));return(o,s)=>{if(Ee(o)){if(o.critical.draggable.id!==s.draggableId)return null;const i=o.current.client.offset,a=o.dimensions.draggables[s.draggableId],l=_(o.impact),u=Vl(o.impact),p=o.forceShouldAnimate;return n(e(i.x,i.y),o.movementMode,a,s.isClone,l,u,p)}if(o.phase==="DROP_ANIMATING"){const i=o.completed;if(i.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=o.dimensions.draggables[s.draggableId],u=i.result,p=u.mode,c=Rr(u),d=Ul(u),m={duration:o.dropDuration,curve:Pt.drop,moveTo:o.newHomeClientOffset,opacity:d?Ae.opacity.drop:null,scale:d?Ae.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:l,dropping:m,draggingOver:c,combineWith:d,mode:p,forceShouldAnimate:null,snapshot:t(p,a,c,d,m)}}}return null}}function Pr(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const ql={mapped:{type:"SECONDARY",offset:G,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Pr(null)}};function Kl(){const e=k((i,a)=>({x:i,y:a})),t=k(Pr),n=k((i,a=null,l)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=i=>i?n(G,i,!0):null,o=(i,a,l,u)=>{const p=l.displaced.visible[i],c=!!(u.inVirtualList&&u.effected[i]),d=He(l),f=d&&d.draggableId===i?a:null;if(!p){if(!c)return r(f);if(l.displaced.invisible[i])return null;const x=ce(u.displacedBy.point),D=e(x.x,x.y);return n(D,f,!0)}if(c)return r(f);const m=l.displacedBy.point,h=e(m.x,m.y);return n(h,f,p.shouldAnimate)};return(i,a)=>{if(Ee(i))return i.critical.draggable.id===a.draggableId?null:o(a.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const l=i.completed;return l.result.draggableId===a.draggableId?null:o(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const Yl=()=>{const e=zl(),t=Kl();return(r,o)=>e(r,o)||t(r,o)||ql},Jl={dropAnimationFinished:ir},Xl=In(Yl,Jl,null,{context:Lt,areStatePropsEqual:Er})(Hl);var Zl=Xl;function Or(e){return $e(Gt).isUsingCloneFor===e.draggableId&&!e.isClone?null:P.createElement(Zl,e)}function Br(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return P.createElement(Or,Cn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Nr=e=>t=>e===t,Ql=Nr("scroll"),ec=Nr("auto"),mn=(e,t)=>t(e.overflowX)||t(e.overflowY),tc=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return mn(n,Ql)||mn(n,ec)},nc=()=>!1,Tr=e=>e==null?null:e===document.body?nc()?e:null:e===document.documentElement?null:tc(e)?e:Tr(e.parentElement);var rc=Tr,ft=e=>({x:e.scrollLeft,y:e.scrollTop});const Lr=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Lr(e.parentElement):!1;var oc=e=>{const t=rc(e),n=Lr(e);return{closestScrollable:t,isFixedOnPage:n}},sc=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:s,page:i,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:d,client:f}=a,m=dr({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:f,scrollSize:d,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:m,diff:{value:G,displacement:G}}}})(),u=o==="vertical"?It:Hn,p=se({page:i,withPlaceholder:null,axis:u,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:s,page:i,frame:l,subject:p}};const ic=(e,t)=>{const n=Ln(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,i=o+t.scrollWidth,l=xt({top:r,right:i,bottom:s,left:o},n.border);return vt({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var ac=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:s,isCombineEnabled:i,shouldClipSubject:a})=>{const l=n.closestScrollable,u=ic(e,l),p=ke(u,r),c=(()=>{if(!l)return null;const f=Ln(l),m={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:f,page:ke(f,r),scroll:ft(l),scrollSize:m,shouldClipSubject:a}})();return sc({descriptor:t,isEnabled:!s,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:o,client:u,page:p,closest:c})};const lc={passive:!1},cc={passive:!0};var hn=e=>e.shouldPublishImmediately?lc:cc;const Ne=e=>e&&e.env.closestScrollable||null;function dc(e){const t=v.useRef(null),n=$e(qe),r=jt("droppable"),{registry:o,marshal:s}=n,i=yr(e),a=w(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=v.useRef(a),u=w(()=>k((I,A)=>{t.current||b(!1);const S={x:I,y:A};s.updateDroppableScroll(a.id,S)}),[a.id,s]),p=y(()=>{const I=t.current;return!I||!I.env.closestScrollable?G:ft(I.env.closestScrollable)},[]),c=y(()=>{const I=p();u(I.x,I.y)},[p,u]),d=w(()=>De(c),[c]),f=y(()=>{const I=t.current,A=Ne(I);if(I&&A||b(!1),I.scrollOptions.shouldPublishImmediately){c();return}d()},[d,c]),m=y((I,A)=>{t.current&&b(!1);const S=i.current,N=S.getDroppableRef();N||b(!1);const T=oc(N),Y={ref:N,descriptor:a,env:T,scrollOptions:A};t.current=Y;const j=ac({ref:N,descriptor:a,env:T,windowScroll:I,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),F=T.closestScrollable;return F&&(F.setAttribute(dn.contextId,n.contextId),F.addEventListener("scroll",f,hn(Y.scrollOptions))),j},[n.contextId,a,f,i]),h=y(()=>{const I=t.current,A=Ne(I);return I&&A||b(!1),ft(A)},[]),x=y(()=>{const I=t.current;I||b(!1);const A=Ne(I);t.current=null,A&&(d.cancel(),A.removeAttribute(dn.contextId),A.removeEventListener("scroll",f,hn(I.scrollOptions)))},[f,d]),D=y(I=>{const A=t.current;A||b(!1);const S=Ne(A);S||b(!1),S.scrollTop+=I.y,S.scrollLeft+=I.x},[]),C=w(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:h,dragStopped:x,scroll:D}),[x,m,h,D]),R=w(()=>({uniqueId:r,descriptor:a,callbacks:C}),[C,a,r]);H(()=>(l.current=R.descriptor,o.droppable.register(R),()=>{t.current&&x(),o.droppable.unregister(R)}),[C,a,x,R,s,o.droppable]),H(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),H(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function it(){}const bn={width:0,height:0,margin:ts},uc=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?bn:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},pc=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=uc({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ye.placeholder:null}},fc=e=>{const t=v.useRef(null),n=y(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:s,contextId:i}=e,[a,l]=v.useState(e.animate==="open");v.useEffect(()=>a?r!=="open"?(n(),l(!1),it):t.current?it:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):it,[r,a,n]);const u=y(c=>{c.propertyName==="height"&&(o(),r==="close"&&s())},[r,s,o]),p=pc({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return P.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var gc=P.memo(fc);class mc extends P.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const hc=e=>{const t=v.useContext(qe);t||b(!1);const{contextId:n,isMovementAllowed:r}=t,o=v.useRef(null),s=v.useRef(null),{children:i,droppableId:a,type:l,mode:u,direction:p,ignoreContainerClipping:c,isDropDisabled:d,isCombineEnabled:f,snapshot:m,useClone:h,updateViewportMaxScroll:x,getContainerForClone:D}=e,C=y(()=>o.current,[]),R=y((F=null)=>{o.current=F},[]);y(()=>s.current,[]);const I=y((F=null)=>{s.current=F},[]),A=y(()=>{r()&&x({maxScroll:pr()})},[r,x]);dc({droppableId:a,type:l,mode:u,direction:p,isDropDisabled:d,isCombineEnabled:f,ignoreContainerClipping:c,getDroppableRef:C});const S=w(()=>P.createElement(mc,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:pe,animate:fe})=>P.createElement(gc,{placeholder:pe,onClose:F,innerRef:I,animate:fe,contextId:n,onTransitionEnd:A})),[n,A,e.placeholder,e.shouldAnimatePlaceholder,I]),N=w(()=>({innerRef:R,placeholder:S,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,S,R]),T=h?h.dragging.draggableId:null,Y=w(()=>({droppableId:a,type:l,isUsingCloneFor:T}),[a,T,l]);function j(){if(!h)return null;const{dragging:F,render:pe}=h,fe=P.createElement(Or,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ye,Je)=>pe(Ye,Je,F));return Jr.createPortal(fe,D())}return P.createElement(Gt.Provider,{value:Y},i(N,m),j())};var bc=hc;function xc(){return document.body||b(!1),document.body}const xn={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xc},jr=e=>{let t={...e},n;for(n in xn)e[n]===void 0&&(t={...t,[n]:xn[n]});return t},at=(e,t)=>e===t.droppable.type,vn=(e,t)=>t.draggables[e.draggable.id],vc=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=k(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=k((s,i,a,l,u,p)=>{const c=u.descriptor.id;if(u.descriptor.droppableId===s){const m=p?{render:p,dragging:n(u.descriptor)}:null,h={isDraggingOver:a,draggingOverWith:a?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:h,useClone:m}}if(!i)return t;if(!l)return e;const f={isDraggingOver:a,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return(s,i)=>{const a=jr(i),l=a.droppableId,u=a.type,p=!a.isDropDisabled,c=a.renderClone;if(Ee(s)){const d=s.critical;if(!at(u,d))return t;const f=vn(d,s.dimensions),m=_(s.impact)===l;return r(l,p,m,m,f,c)}if(s.phase==="DROP_ANIMATING"){const d=s.completed;if(!at(u,d.critical))return t;const f=vn(d.critical,s.dimensions);return r(l,p,Rr(d.result)===l,_(d.impact)===l,f,c)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const d=s.completed;if(!at(u,d.critical))return t;const f=_(d.impact)===l,m=!!(d.impact.at&&d.impact.at.type==="COMBINE"),h=d.critical.droppable.id===l;return f?m?e:t:h?e:t}return t}},yc={updateViewportMaxScroll:gi},Dc=In(vc,yc,(e,t,n)=>({...jr(n),...e,...t}),{context:Lt,areStatePropsEqual:Er})(bc);var kr=Dc;Mt.propTypes={sx:E.object};function Mt({sx:e,...t}){return g.jsx(gt,{sx:{flexGrow:1,"& .MuiInputBase-input":{py:1,borderRadius:1,typography:"h6",border:"solid 1px transparent",transition:n=>n.transitions.create(["padding-left","border-color"]),"&:hover, &:focus":{pl:1,border:n=>`solid 1px ${n.palette.text.primary}`}},...e},...t})}Gr.propTypes={liked:E.bool,onLike:E.func,onAttach:E.func,onDelete:E.func,completed:E.bool,taskName:E.string,onCompleted:E.func,fileInputRef:E.object,onCloseDetails:E.func};function Gr({fileInputRef:e,taskName:t,liked:n,completed:r,onLike:o,onAttach:s,onDelete:i,onCompleted:a,onCloseDetails:l}){const u=eo("up","sm"),[p,c]=v.useState(!1),d=()=>{c(!0)},f=()=>{c(!1)};return g.jsxs(g.Fragment,{children:[g.jsxs(O,{p:2.5,direction:"row",alignItems:"center",children:[!u&&g.jsx(J,{title:"Back",children:g.jsx(V,{onClick:l,sx:{mr:1},children:g.jsx(B,{icon:"eva:arrow-ios-back-fill"})})}),g.jsx(re,{size:"small",variant:"outlined",color:r?"primary":"inherit",startIcon:r&&g.jsx(B,{icon:"eva:checkmark-fill",width:16}),onClick:a,children:r?"Completed":"Mark Complete"}),g.jsxs(O,{direction:"row",spacing:1,justifyContent:"flex-end",flexGrow:1,children:[g.jsx(J,{title:"Like this",children:g.jsx(V,{color:n?"default":"primary",size:"small",onClick:o,children:g.jsx(B,{icon:"ic:round-thumb-up"})})}),g.jsx(J,{title:"Attachment",children:g.jsx(V,{size:"small",onClick:s,children:g.jsx(B,{icon:"eva:attach-2-fill"})})}),g.jsx(J,{title:"Delete task",children:g.jsx(V,{onClick:d,size:"small",children:g.jsx(B,{icon:"eva:trash-2-outline"})})}),g.jsx(V,{size:"small",children:g.jsx(B,{icon:"eva:more-vertical-fill"})})]})]}),g.jsx("input",{ref:e,type:"file",style:{display:"none"}}),g.jsx(Bn,{open:p,onClose:f,title:"Delete",content:g.jsxs(g.Fragment,{children:["Are you sure want to delete ",g.jsxs("strong",{children:[" ",t," "]}),"?"]}),action:g.jsx(re,{variant:"contained",color:"error",onClick:i,children:"Delete"})})]})}const yn=64;Ft.propTypes={open:E.bool,onClose:E.func,assignee:E.array};function Ft({assignee:e=[],open:t,onClose:n}){const[r,o]=v.useState(""),s=l=>{o(l.target.value)},i=Ic({inputData:$t,query:r}),a=!i.length&&!!r;return g.jsxs(to,{fullWidth:!0,maxWidth:"xs",open:t,onClose:n,children:[g.jsxs(No,{sx:{pb:0},children:["Contacts ",g.jsxs(xe,{component:"span",children:["(",$t.length,")"]})]}),g.jsx(Q,{sx:{px:3,py:2.5},children:g.jsx(mt,{fullWidth:!0,value:r,onChange:s,placeholder:"Search...",InputProps:{startAdornment:g.jsx(no,{position:"start",children:g.jsx(B,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),g.jsx(To,{sx:{p:0},children:a?g.jsx(ro,{query:r,sx:{mt:3,mb:10}}):g.jsx(An,{sx:{px:2.5,height:yn*6},children:i.map(l=>{const u=e.map(p=>p.name).includes(l.name);return g.jsxs(Lo,{disableGutters:!0,secondaryAction:g.jsx(re,{size:"small",color:u?"primary":"inherit",startIcon:g.jsx(B,{icon:u?"eva:checkmark-fill":"eva:plus-fill"}),children:u?"assigned":"assign"}),sx:{height:yn},children:[g.jsx(oo,{children:g.jsx(ht,{src:l.avatar})}),g.jsx(so,{primaryTypographyProps:{typography:"subtitle2",sx:{mb:.25}},secondaryTypographyProps:{typography:"caption"},primary:l.name,secondary:l.email})]},l.id)})})})]})}function Ic({inputData:e,query:t}){return t&&(e=e.filter(n=>n.name.toLowerCase().indexOf(t.toLowerCase())!==-1||n.email.toLowerCase().indexOf(t.toLowerCase())!==-1)),e}Mr.propTypes={comments:E.array};function Mr({comments:e}){const[t,n]=v.useState(-1),r=e.filter(i=>i.messageType==="image").map(i=>({src:i.message})),o=i=>{const a=r.findIndex(l=>l.src===i);n(a)},s=()=>{n(-1)};return g.jsxs(g.Fragment,{children:[g.jsx(O,{spacing:3,sx:{py:3,px:2.5,bgcolor:"background.neutral"},children:e.map(i=>g.jsxs(O,{direction:"row",spacing:2,children:[g.jsx(ht,{src:i.avatar}),g.jsxs(O,{children:[g.jsxs(O,{direction:"row",alignItems:"center",spacing:1,children:[g.jsxs(xe,{variant:"subtitle2",children:[" ",i.name]}),g.jsx(xe,{variant:"caption",sx:{color:"text.secondary"},children:io(i.createdAt)})]}),i.messageType==="image"?g.jsx(wn,{alt:i.message,src:i.message,onClick:()=>o(i.message),sx:{mt:1,borderRadius:1}}):g.jsx(xe,{variant:"body2",sx:{mt:.5},children:i.message})]})]},i.id))}),g.jsx(jo,{index:t,slides:r,open:t>=0,close:s})]})}Fr.propTypes={attachments:E.array};function Fr({attachments:e}){const[t,n]=v.useState(e),r=v.useCallback(s=>{const i=s.map(a=>Object.assign(a,{preview:URL.createObjectURL(a)}));n([...t,...i])},[t]),o=s=>{const i=t.filter(a=>a!==s);n(i)};return g.jsxs(O,{direction:"row",flexWrap:"wrap",children:[g.jsx(ao,{thumbnail:!0,files:t,onRemove:s=>o(s),sx:{width:64,height:64}}),g.jsx(lo,{onDrop:r})]})}const Cc=[{value:"low",label:"Low",color:"info"},{value:"medium",label:"Medium",color:"warning"},{value:"hight",label:"Hight",color:"error"}];Wr.propTypes={prioritize:E.string,onChangePrioritize:E.func};function Wr({prioritize:e,onChangePrioritize:t}){return g.jsx(co,{row:!0,value:e,onChange:t,children:Cc.map(n=>{const r=n.value===e;return g.jsxs(Q,{sx:{position:"relative",mr:1},children:[g.jsxs(O,{spacing:.5,direction:"row",alignItems:"center",sx:{pl:"4px",pr:"10px",fontWeight:"fontWeightBold",height:28,fontSize:12,borderRadius:.75,border:o=>`solid 1px ${Le(o.palette.grey[500],.24)}`,...r&&{color:o=>o.palette[n.color].main,border:o=>`solid 1px ${o.palette[n.color].main}`,bgcolor:o=>Le(o.palette[n.color].main,.08)}},children:[g.jsx(O,{alignItems:"center",justifyContent:"center",sx:{width:16,height:16,mr:.5},children:r?g.jsx(B,{icon:"eva:checkmark-fill",width:16}):g.jsx(Q,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:o=>o.palette[n.color].main}})}),n.label]}),g.jsx(uo,{value:n.value,control:g.jsx(po,{sx:{display:"none"}}),label:"",sx:{m:0,top:0,left:0,right:0,bottom:0,position:"absolute"}})]},n.value)})})}function Sc(){const{user:e}=fo();return g.jsxs(O,{direction:"row",spacing:2,sx:{py:3,px:2.5},children:[g.jsx(go,{src:e==null?void 0:e.avatar_url,alt:e==null?void 0:e.first_name,name:e==null?void 0:e.first_name}),g.jsxs(le,{variant:"outlined",sx:{p:1,flexGrow:1},children:[g.jsx(gt,{fullWidth:!0,multiline:!0,rows:2,placeholder:"Type a message",sx:{px:1}}),g.jsxs(O,{direction:"row",alignItems:"center",children:[g.jsxs(O,{direction:"row",flexGrow:1,children:[g.jsx(J,{title:"Add photo",children:g.jsx(V,{size:"small",children:g.jsx(B,{icon:"ic:round-add-photo-alternate"})})}),g.jsx(V,{size:"small",children:g.jsx(B,{icon:"eva:attach-2-fill"})})]}),g.jsx(re,{variant:"contained",children:"Comment"})]})]})]})}const be=ho("span")(({theme:e})=>({...e.typography.caption,width:120,flexShrink:0,color:e.palette.text.secondary}));$r.propTypes={task:E.object,openDetails:E.bool,onDeleteTask:E.func,onCloseDetails:E.func};function $r({task:e,openDetails:t,onCloseDetails:n,onDeleteTask:r}){const o=v.useRef(null),[s,i]=v.useState(!1),[a,l]=v.useState("low"),[u,p]=v.useState(e.name),[c,d]=v.useState(!1),[f,m]=v.useState(e.completed),[h,x]=v.useState(e.description),{startDate:D,endDate:C,onChangeStartDate:R,onChangeEndDate:I,open:A,onOpen:S,onClose:N,isSelected:T,isError:Y,shortLabel:j}=Pn(e.due[0],e.due[1]),F=()=>{i(!s)},pe=()=>{m(!f)},fe=()=>{d(!0)},Ye=()=>{d(!1)},Je=()=>{var L;(L=o.current)==null||L.click()},zr=L=>{p(L.target.value)},qr=L=>{x(L.target.value)},Kr=L=>{l(L.target.value)};return g.jsxs(mo,{open:t,onClose:n,anchor:"right",PaperProps:{sx:{width:{xs:1,sm:480}}},children:[g.jsx(Gr,{taskName:e.name,fileInputRef:o,liked:s,completed:f,onLike:F,onAttach:Je,onDelete:r,onCompleted:pe,onCloseDetails:n}),g.jsx(_t,{}),g.jsxs(An,{children:[g.jsxs(O,{spacing:3,sx:{px:2.5,pt:3,pb:5},children:[g.jsx(Mt,{placeholder:"Task name",value:u,onChange:zr}),g.jsxs(O,{direction:"row",children:[g.jsx(be,{sx:{height:40,lineHeight:"40px",my:.5},children:"Assignee"}),g.jsxs(O,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[e.assignee.map(L=>g.jsx(ht,{alt:L.name,src:L.avatar,sx:{m:.5}},L.id)),g.jsx(J,{title:"Add assignee",children:g.jsx(V,{onClick:fe,sx:{p:1,ml:.5,bgcolor:L=>Le(L.palette.grey[500],.08),border:L=>`dashed 1px ${L.palette.divider}`},children:g.jsx(B,{icon:"eva:plus-fill"})})}),g.jsx(Ft,{assignee:e.assignee,open:c,onClose:Ye})]})]}),g.jsxs(O,{direction:"row",alignItems:"center",children:[g.jsx(be,{children:" Due date "}),g.jsxs(g.Fragment,{children:[T?g.jsx(Q,{onClick:S,sx:{typography:"body2",cursor:"pointer","&:hover":{opacity:.72}},children:j}):g.jsx(J,{title:"Add due date",children:g.jsx(V,{onClick:S,sx:{p:1,ml:.5,bgcolor:L=>Le(L.palette.grey[500],.08),border:L=>`dashed 1px ${L.palette.divider}`},children:g.jsx(B,{icon:"eva:plus-fill"})})}),g.jsx(On,{variant:"calendar",title:"Choose due date",startDate:D,endDate:C,onChangeStartDate:R,onChangeEndDate:I,open:A,onClose:N,isSelected:T,isError:Y})]})]}),g.jsxs(O,{direction:"row",alignItems:"center",children:[g.jsx(be,{children:"Prioritize"}),g.jsx(Wr,{prioritize:a,onChangePrioritize:Kr})]}),g.jsxs(O,{direction:"row",children:[g.jsx(be,{children:" Description "}),g.jsx(mt,{fullWidth:!0,multiline:!0,size:"small",value:h,onChange:qr,InputProps:{sx:{typography:"body2"}}})]}),g.jsxs(O,{direction:"row",children:[g.jsx(be,{sx:{py:.5},children:"Attachments"}),g.jsx(Fr,{attachments:e.attachments})]})]}),!!e.comments.length&&g.jsx(Mr,{comments:e.comments})]}),g.jsx(_t,{}),g.jsx(Sc,{})]})}_r.propTypes={card:E.object,index:E.number,onDeleteTask:E.func};function _r({card:e,onDeleteTask:t,index:n}){const{name:r,attachments:o}=e,[s,i]=v.useState(e.completed),[a,l]=v.useState(!1),u=()=>{l(!0)},p=()=>{l(!1)},c=d=>{i(d.target.checked)};return g.jsxs(g.Fragment,{children:[g.jsx(Br,{draggableId:e.id,index:n,children:d=>g.jsxs(le,{...d.draggableProps,...d.dragHandleProps,ref:d.innerRef,sx:{width:1,borderRadius:1,overflow:"hidden",position:"relative",boxShadow:f=>f.customShadows.z1,"&:hover":{boxShadow:f=>f.customShadows.z20}},children:[g.jsxs(Q,{onClick:u,sx:{cursor:"pointer"},children:[!!o.length&&g.jsx(wn,{disabledEffect:!0,alt:o[0],src:o[0],ratio:"4/3",sx:{transition:f=>f.transitions.create("opacity",{duration:f.transitions.duration.shortest}),...s&&{opacity:.48}}}),g.jsx(xe,{noWrap:!0,variant:"subtitle2",sx:{pr:1,pl:6,height:72,lineHeight:"72px",transition:f=>f.transitions.create("opacity",{duration:f.transitions.duration.shortest}),...s&&{opacity:.48}},children:r})]}),g.jsx(En,{disableRipple:!0,checked:s,icon:g.jsx(B,{icon:"eva:radio-button-off-outline"}),checkedIcon:g.jsx(B,{icon:"eva:checkmark-circle-2-outline"}),onChange:c,sx:{position:"absolute",bottom:16,left:8}})]})}),g.jsx($r,{task:e,openDetails:a,onCloseDetails:p,onDeleteTask:()=>t(e.id)})]})}const Dn={attachments:[],comments:[],description:"",due:[null,null],assignee:[]};Hr.propTypes={onAddTask:E.func,onCloseAddTask:E.func};function Hr({onAddTask:e,onCloseAddTask:t}){const[n,r]=v.useState(""),[o,s]=v.useState(!1),[i,a]=v.useState(!1),{startDate:l,endDate:u,onChangeStartDate:p,onChangeEndDate:c,open:d,onOpen:f,onClose:m,isSelected:h,isError:x,shortLabel:D}=Pn(new Date,new Date),C=()=>{a(!0)},R=()=>{a(!1)},I=N=>{N.key==="Enter"&&n.trim()!==""&&e({...Dn,id:Vt(),name:n,due:[l,u],completed:o})},A=()=>{n?e({...Dn,id:Vt(),name:n,due:[l,u],completed:o}):t()},S=N=>{s(N.target.checked)};return g.jsx(Rn,{onClickAway:A,children:g.jsxs("div",{children:[g.jsxs(le,{variant:"outlined",children:[g.jsx(gt,{multiline:!0,fullWidth:!0,placeholder:"Task name",value:n,onChange:N=>r(N.target.value),onKeyUp:I,sx:{px:2,pt:2}}),g.jsxs(O,{direction:"row",justifyContent:"space-between",sx:{pl:1,pr:1.5,pb:2},children:[g.jsx(J,{title:"Mark complete",children:g.jsx(En,{disableRipple:!0,checked:o,onChange:S,icon:g.jsx(B,{icon:"eva:radio-button-off-outline"}),checkedIcon:g.jsx(B,{icon:"eva:checkmark-circle-2-outline"})})}),g.jsxs(O,{direction:"row",spacing:1.5,alignItems:"center",children:[g.jsx(J,{title:"Assign",onClick:C,children:g.jsx(V,{size:"small",children:g.jsx(B,{icon:"eva:people-fill"})})}),h?g.jsx(Q,{onClick:f,sx:{cursor:"pointer",typography:"caption","&:hover":{opacity:.72}},children:D}):g.jsx(J,{title:"Due date",children:g.jsx(V,{size:"small",onClick:f,children:g.jsx(B,{icon:"eva:calendar-fill"})})})]})]})]}),g.jsx(Ft,{open:i,onClose:R}),g.jsx(On,{variant:"calendar",title:"Choose due date",startDate:l,endDate:u,onChangeStartDate:p,onChangeEndDate:c,open:d,onClose:m,isSelected:h,isError:x})]})})}Ur.propTypes={columnName:E.string,onDelete:E.func,onUpdate:E.func};function Ur({columnName:e,onDelete:t,onUpdate:n}){const r=v.useRef(null),[o,s]=v.useState(e),[i,a]=v.useState(!1),[l,u]=v.useState(null);v.useEffect(()=>{const{current:D}=r;l&&D&&D.focus()},[l]);const p=()=>{a(!0)},c=()=>{a(!1)},d=D=>{u(D.currentTarget)},f=()=>{u(null)},m=()=>{f()},h=D=>{s(D.target.value)},x=D=>{D.key==="Enter"&&r.current&&(r.current.blur(),n(o))};return g.jsxs(g.Fragment,{children:[g.jsxs(O,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,sx:{pt:3},children:[g.jsx(Mt,{inputRef:r,placeholder:"Section name",value:o,onChange:h,onKeyUp:x}),g.jsx(V,{size:"small",color:l?"inherit":"default",onClick:d,children:g.jsx(B,{icon:"eva:more-horizontal-fill"})})]}),g.jsxs(bo,{open:l,onClose:f,sx:{mt:0,ml:1.25},children:[g.jsxs(Ht,{onClick:()=>{p(),f()},sx:{color:"error.main"},children:[g.jsx(B,{icon:"eva:trash-2-outline"}),"Delete section"]}),g.jsxs(Ht,{onClick:m,children:[g.jsx(B,{icon:"eva:edit-fill"}),"Rename section"]})]}),g.jsx(Bn,{open:i,onClose:c,title:"Delete",content:g.jsxs(g.Fragment,{children:["Are you sure want to delete column?",g.jsxs(Q,{sx:{typography:"caption",color:"error.main",mt:2},children:[g.jsx("strong",{children:" NOTE: "})," All tasks related to this category will also be deleted."]})]}),action:g.jsx(re,{variant:"contained",color:"error",onClick:()=>{t(),c()},children:"Delete"})})]})}Vr.propTypes={cards:E.object,index:E.number,column:E.object};function Vr({column:e,index:t,cards:n}){const r=bt(),{enqueueSnackbar:o}=xo(),[s,i]=v.useState(!1),a=()=>{i(!s)},l=()=>{i(!1)},u=f=>{r(vo({cardId:f,columnId:e.id})),o("Delete success!")},p=async f=>{try{f!==e.name&&(r(yo(e.id,{...e,name:f})),o("Update success!"))}catch(m){console.error(m)}},c=async()=>{try{r(Do(e.id)),o("Delete success!")}catch(f){console.error(f)}},d=f=>{l(),r(Io({card:f,columnId:e.id}))};return g.jsx(Br,{draggableId:e.id,index:t,children:f=>g.jsx(le,{...f.draggableProps,ref:f.innerRef,variant:"outlined",sx:{px:2,borderRadius:1,borderStyle:"dashed",bgcolor:m=>m.palette.mode==="light"?"grey.100":"background.default"},children:g.jsxs(O,{spacing:3,...f.dragHandleProps,children:[g.jsx(Ur,{columnName:e.name,onDelete:c,onUpdate:p}),g.jsx(kr,{droppableId:e.id,type:"task",children:m=>g.jsxs(O,{ref:m.innerRef,...m.droppableProps,spacing:2,sx:{width:280},children:[e.cardIds.map((h,x)=>g.jsx(_r,{index:x,onDeleteTask:u,card:n[h]},h)),m.placeholder]})}),g.jsxs(O,{spacing:2,sx:{pb:3},children:[s&&g.jsx(Hr,{onAddTask:d,onCloseAddTask:l}),g.jsx(re,{fullWidth:!0,size:"large",color:"inherit",startIcon:g.jsx(B,{icon:"eva:plus-fill"}),onClick:a,sx:{fontSize:14},children:"Add Task"})]})]})})})}function Ac(){const e=bt(),[t,n]=v.useState(""),[r,o]=v.useState(!1),s=()=>{o(!0)},i=()=>{o(!1)},a=p=>{n(p.target.value)},l=async()=>{try{t&&(e(Co({name:t})),n("")),i()}catch(p){console.error(p)}},u=p=>{p.key==="Enter"&&l()};return g.jsx(le,{sx:{minWidth:280,width:280},children:r?g.jsx(Rn,{onClickAway:l,children:g.jsx(mt,{autoFocus:!0,fullWidth:!0,placeholder:"New section",value:t,onChange:a,onKeyUp:u,InputProps:{sx:{typography:"h6"}}})}):g.jsx(re,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",startIcon:g.jsx(B,{icon:"eva:plus-fill"}),onClick:s,children:"Add section"})})}function _c(){const e=bt(),{board:t}=So(r=>r.kanban);v.useEffect(()=>{e(Ao())},[e]);const n=r=>{const{destination:o,source:s,draggableId:i,type:a}=r;if(!o||o.droppableId===s.droppableId&&o.index===s.index)return;if(a==="column"){const m=Array.from(t.columnOrder);m.splice(s.index,1),m.splice(o.index,0,i),e(Oo(m));return}const l=t.columns[s.droppableId],u=t.columns[o.droppableId];if(l.id===u.id){const m=[...l.cardIds];m.splice(s.index,1),m.splice(o.index,0,i);const h={...l,cardIds:m};e(Ut({...t.columns,[h.id]:h}));return}const p=[...l.cardIds];p.splice(s.index,1);const c={...l,cardIds:p},d=[...u.cardIds];d.splice(o.index,0,i);const f={...u,cardIds:d};e(Ut({...t.columns,[c.id]:c,[f.id]:f}))};return g.jsxs(g.Fragment,{children:[g.jsx(wo,{children:g.jsx("title",{children:" Kanban | Minimal UI"})}),g.jsxs(Eo,{maxWidth:!1,sx:{height:1},children:[g.jsx(Bo,{heading:"Kanban",links:[{name:"Dashboard",href:Ro.root},{name:"Kanban"}]}),g.jsx(Nl,{onDragEnd:n,children:g.jsx(kr,{droppableId:"all-columns",direction:"horizontal",type:"column",children:r=>g.jsxs(O,{...r.droppableProps,ref:r.innerRef,spacing:3,direction:"row",alignItems:"flex-start",sx:{height:1,overflowY:"hidden",...Po},children:[t.columnOrder.length?t.columnOrder.map((o,s)=>g.jsx(Vr,{index:s,column:t.columns[o],cards:t.cards},o)):g.jsx(ko,{}),r.placeholder,g.jsx(Ac,{})]})})})]})]})}export{_c as default};
