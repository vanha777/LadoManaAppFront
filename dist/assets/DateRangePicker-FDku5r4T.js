import{F as f,ee as k,ef as g,eg as P,eh as E,b_ as r,bl as R,ac as e,bh as $,ae as O,ba as b,bi as m,aw as T,aD as M,aM as n}from"./index-kAVNsXXW.js";import{D as F}from"./DialogTitle-vCHwm-ka.js";import{D as Y}from"./DialogContent-DKzr_HVR.js";import{C as j,D as y}from"./DatePicker-Z7sQcGdH.js";import{D as L}from"./DialogActions-vKtJfWwg.js";function J(D,h){const[p,l]=f.useState(!1),[t,o]=f.useState(h),[a,i]=f.useState(D),c=a&&t&&k(new Date(t),new Date(a))||!1,d=new Date().getFullYear(),s=a?g(a):null,u=t?g(t):null,C=d===s&&d===u,S=a&&t?P(new Date(a),new Date(t)):!1,w=a&&t?E(new Date(a),new Date(t)):!1,v=`${r(a)} - ${r(t)}`;return{startDate:a,endDate:t,onChangeStartDate:x=>{i(x)},onChangeEndDate:x=>{c&&o(null),o(x)},open:p,onOpen:()=>l(!0),onClose:()=>l(!1),onReset:()=>{i(null),o(null)},isSelected:!!a&&!!t,isError:c,label:v||"",shortLabel:(C?w?S?r(t,"dd MMM yy"):`${r(a,"dd")} - ${r(t,"dd MMM yy")}`:`${r(a,"dd MMM")} - ${r(t,"dd MMM yy")}`:`${r(a,"dd MMM yy")} - ${r(t,"dd MMM yy")}`)||"",setStartDate:i,setEndDate:o}}W.propTypes={open:n.bool,isError:n.bool,onClose:n.func,title:n.string,onChangeEndDate:n.func,onChangeStartDate:n.func,variant:n.oneOf(["input","calendar"]),startDate:n.oneOfType([n.string,n.number,n.instanceOf(Date)]),endDate:n.oneOfType([n.string,n.number,n.instanceOf(Date)])};function W({title:D="Select date range",variant:h="input",startDate:p,endDate:l,onChangeStartDate:t,onChangeEndDate:o,open:a,onClose:i,isError:c}){const d=R("up","md"),s=h==="calendar";return e.jsxs($,{fullWidth:!0,maxWidth:s?!1:"xs",open:a,onClose:i,PaperProps:{sx:{...s&&{maxWidth:720}}},children:[e.jsx(F,{sx:{pb:2},children:D}),e.jsxs(Y,{sx:{...s&&d&&{overflow:"unset"}},children:[e.jsx(O,{spacing:s?3:2,direction:s&&d?"row":"column",justifyContent:"center",sx:{pt:1,"& .MuiCalendarPicker-root":{...!d&&{width:"auto"}}},children:s?e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:e.jsx(j,{date:p,onChange:t})}),e.jsx(b,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:e.jsx(j,{date:l,onChange:o})})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{label:"Start date",value:p,onChange:t,renderInput:u=>e.jsx(m,{...u})}),e.jsx(y,{label:"End date",value:l,onChange:o,renderInput:u=>e.jsx(m,{...u})})]})}),c&&e.jsx(T,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),e.jsxs(L,{children:[e.jsx(M,{variant:"outlined",color:"inherit",onClick:i,children:"Cancel"}),e.jsx(M,{disabled:c,variant:"contained",onClick:i,children:"Apply"})]})]})}export{W as D,J as u};
